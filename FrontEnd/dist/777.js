"use strict";(self.webpackChunkFrontEnd=self.webpackChunkFrontEnd||[]).push([[777],{5777:(ge,k,s)=>{s.r(k),s.d(k,{SupplierModule:()=>he});var u=s(33),g=s(2676),p=s(9417),_=s(8477),D=s(9172),v=s(6354),e=s(4438),b=s(9028),M=s(369),C=s(5018),j=s(9790),T=s(7028),U=s(3874),I=s(8934),d=s(177),y=s(4433),G=s(285),O=s(1168),E=s(850),w=s(6600),S=s(8834),X=s(2765),h=s(882),B=s(9213),V=s(9631),P=s(2135);function J(o,c){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function H(o,c){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function Y(o,c){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("invalid"))}}function z(o,c){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function W(o,c){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("invalid"))}}function K(o,c){if(1&o){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.onDelete())}),e.EFF(1),e.nI1(2,"uppercase"),e.k0s()}if(2&o){const t=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,t.getLabel("deleteButton")))}}function Q(o,c){1&o&&(e.j41(0,"mat-icon",33),e.EFF(1,"lock"),e.k0s())}function Z(o,c){if(1&o&&(e.j41(0,"mat-option",34),e.EFF(1),e.k0s()),2&o){const t=c.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t.description," ")}}let A=(()=>{class o{constructor(t,i,r,n,l,a,m,F,R,fe){this.activatedRoute=t,this.supplierHttpService=i,this.dexieService=r,this.dialogService=n,this.formBuilder=l,this.helperService=a,this.messageDialogService=m,this.messageHintService=F,this.messageLabelService=R,this.router=fe,this.feature="supplierForm",this.featureIcon="suppliers",this.icon="arrow_back",this.parentUrl="/suppliers",this.isAutoCompleteDisabled=!0}ngOnInit(){this.initForm(),this.setRecordId(),this.getRecord(),this.populateFields(),this.populateDropdowns()}ngAfterViewInit(){this.focusOnField()}autocompleteFields(t,i){return i?i[t]:void 0}checkForEmptyAutoComplete(t){""==t.target.value&&(this.isAutoCompleteDisabled=!0)}enableOrDisableAutoComplete(t){this.isAutoCompleteDisabled=this.helperService.enableOrDisableAutoComplete(t)}getHint(t,i=0){return this.messageHintService.getDescription(t,i)}getLabel(t){return this.messageLabelService.getDescription(this.feature,t)}getRemarksLength(){return null!=this.form.value.remarks?this.form.value.remarks.length:0}onDelete(){this.dialogService.open(this.messageDialogService.confirmDelete(),"question",["abort","ok"]).subscribe(t=>{t&&this.supplierHttpService.delete(this.form.value.id).subscribe({complete:()=>{this.dexieService.remove("suppliers",this.form.value.id),this.helperService.doPostSaveFormTasks(this.messageDialogService.success(),"ok",this.parentUrl,!0)},error:i=>{this.dialogService.open(this.messageDialogService.filterResponse(i),"error",["ok"])}})})}onSave(){this.saveRecord(this.flattenForm())}openOrCloseAutoComplete(t,i){this.helperService.openOrCloseAutocomplete(this.form,i,t)}filterAutocomplete(t,i,r){if("object"!=typeof r){const n=r.toLowerCase();return this[t].filter(l=>l[i].toLowerCase().startsWith(n))}}flattenForm(){return{id:this.form.value.id,bankId:this.form.value.bank.id,iban:this.form.value.iban,description:this.form.value.description,vatNumber:this.form.value.vatNumber,phones:this.form.value.phones,email:this.form.value.email,remarks:this.form.value.remarks,isActive:this.form.value.isActive,putAt:this.form.value.putAt}}focusOnField(){this.helperService.focusOnField()}getRecord(){if(null!=this.recordId)return new Promise(t=>{const i=this.activatedRoute.snapshot.data.supplierForm;null==i.error?(this.record=i.record.body,t(this.record)):this.dialogService.open(this.messageDialogService.filterResponse(i.error),"error",["ok"]).subscribe(()=>{this.resetForm(),this.goBack()})})}goBack(){this.router.navigate([this.parentUrl])}initForm(){this.form=this.formBuilder.group({id:0,bank:["",[p.k0.required,_.B.RequireAutocomplete]],iban:[""],description:["",[p.k0.required,p.k0.maxLength(128)]],vatNumber:["",[p.k0.required,p.k0.maxLength(36)]],phones:["",[p.k0.maxLength(128)]],email:["",[p.k0.maxLength(128)]],remarks:["",p.k0.maxLength(2048)],isActive:!0,postAt:[""],postUser:[""],putAt:[""],putUser:[""]})}populateDropdownFromDexieDB(t,i,r,n,l){this.dexieService.table(t).orderBy(l).toArray().then(a=>{this[t]=null==this.recordId?a.filter(m=>m.isActive):a,this[i]=this.form.get(r).valueChanges.pipe((0,D.Z)(""),(0,v.T)(m=>this.filterAutocomplete(t,n,m)))})}populateDropdowns(){this.populateDropdownFromDexieDB("banks","dropdownBanks","bank","description","description")}populateFields(){null!=this.record&&this.form.setValue({id:this.record.id,bank:{id:this.record.bank.id,description:this.record.bank.description},iban:this.record.iban,description:this.record.description,vatNumber:this.record.vatNumber,phones:this.record.phones,email:this.record.email,remarks:this.record.remarks,isActive:this.record.isActive,postAt:this.record.postAt,postUser:this.record.postUser,putAt:this.record.putAt,putUser:this.record.putUser})}resetForm(){this.form.reset()}saveRecord(t){this.supplierHttpService.save(t).subscribe({next:i=>{this.dexieService.update("suppliers",{id:parseInt(i.body.id),description:i.body.description,email:i.body.email,vatPercent:i.body.vatPercent,isActive:i.body.isActive}),this.helperService.doPostSaveFormTasks(200==i.code?this.messageDialogService.success():this.messageDialogService.supplierVatNumberIsDuplicate(),"ok",this.parentUrl,!0)},error:i=>{this.dialogService.open(this.messageDialogService.filterResponse(i),"error",["ok"])}})}setRecordId(){this.activatedRoute.params.subscribe(t=>{this.recordId=t.id})}get description(){return this.form.get("description")}get bank(){return this.form.get("bank")}get iban(){return this.form.get("iban")}get vatNumber(){return this.form.get("vatNumber")}get phones(){return this.form.get("phones")}get email(){return this.form.get("email")}get remarks(){return this.form.get("remarks")}get postAt(){return this.form.get("postAt")}get postUser(){return this.form.get("postUser")}get putAt(){return this.form.get("putAt")}get putUser(){return this.form.get("putUser")}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(u.nX),e.rXU(b.O),e.rXU(M.T),e.rXU(C.o),e.rXU(p.ok),e.rXU(j.wT),e.rXU(T.$),e.rXU(U.S),e.rXU(I.F),e.rXU(u.Ix))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["supplier-form"]],decls:67,vars:42,consts:[["inputAutoComplete","","triggerBank","matAutocompleteTrigger"],["input",""],["banks","matAutocomplete"],["id","form-wrapper"],["id","content"],["id","header"],[3,"feature","featureIcon","icon","parentUrl"],["id","form",3,"formGroup"],["dataTabIndex","1","formControlName","description","matInput","",3,"inputTabStop"],[4,"ngIf"],[1,"group-input-field"],["dataTabIndex","2","formControlName","bank","matInput","",3,"keydown","keyup","inputTabStop","matAutocompleteDisabled","matAutocomplete"],["matSuffix","",2,"display","flex"],["mat-icon-button","","type","button",3,"click"],[1,"input-suffix","material-icons-outlined"],["dataTabIndex","3","formControlName","iban","matInput","",3,"inputTabStop"],["dataTabIndex","4","formControlName","vatNumber","matInput","",3,"inputTabStop"],["dataTabIndex","5","formControlName","phones","matInput","",3,"inputTabStop"],["dataTabIndex","6","formControlName","email","matInput","",3,"inputTabStop"],["formControlName","remarks","id","textarea","matInput",""],[1,"right"],[1,"stacked-checkboxes"],["formControlName","isActive"],[1,"align-bottom"],[3,"feature","postAt","postUser","putAt","putUser"],["id","footer"],["id","align-right"],["class","delete","mat-flat-button","",3,"click",4,"ngIf"],["mat-flat-button","",1,"primary",3,"click","disabled"],["class","material-icons-outlined",4,"ngIf"],["autoActiveFirstOption","",3,"displayWith"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","",1,"delete",3,"click"],[1,"material-icons-outlined"],[3,"value"]],template:function(i,r){if(1&i){const n=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"div",5),e.nrm(3,"home-button-and-title",6),e.k0s(),e.j41(4,"form",7)(5,"mat-form-field")(6,"mat-label"),e.EFF(7),e.k0s(),e.nrm(8,"input",8),e.DNE(9,J,2,1,"mat-error",9),e.k0s(),e.j41(10,"div",10)(11,"mat-form-field")(12,"mat-label"),e.EFF(13),e.k0s(),e.j41(14,"input",11,0),e.bIt("keydown",function(a){return e.eBV(n),e.Njj(r.enableOrDisableAutoComplete(a))})("keyup",function(a){return e.eBV(n),e.Njj(r.checkForEmptyAutoComplete(a))}),e.k0s(),e.j41(17,"div",12)(18,"button",13),e.bIt("click",function(){e.eBV(n);const a=e.sdS(16);return e.Njj(r.openOrCloseAutoComplete(a,"bank"))}),e.j41(19,"mat-icon",14),e.EFF(20,"expand_more"),e.k0s()()(),e.DNE(21,H,2,1,"mat-error",9)(22,Y,2,1,"mat-error",9),e.k0s(),e.j41(23,"mat-form-field")(24,"mat-label"),e.EFF(25),e.k0s(),e.nrm(26,"input",15),e.k0s()(),e.j41(27,"mat-form-field")(28,"mat-label"),e.EFF(29),e.k0s(),e.nrm(30,"input",16),e.DNE(31,z,2,1,"mat-error",9),e.k0s(),e.j41(32,"div",10)(33,"mat-form-field")(34,"mat-label"),e.EFF(35),e.k0s(),e.nrm(36,"input",17),e.k0s(),e.j41(37,"mat-form-field")(38,"mat-label"),e.EFF(39),e.k0s(),e.nrm(40,"input",18),e.DNE(41,W,2,1,"mat-error",9),e.k0s()(),e.j41(42,"mat-form-field")(43,"mat-label"),e.EFF(44),e.k0s(),e.nrm(45,"textarea",19,1),e.j41(47,"mat-hint",20),e.EFF(48),e.k0s()(),e.j41(49,"div",21)(50,"mat-checkbox",22)(51,"span"),e.EFF(52),e.k0s()()(),e.j41(53,"div",23),e.nrm(54,"metadata-panel",24),e.k0s()()(),e.j41(55,"div",25)(56,"div",26),e.DNE(57,K,3,3,"button",27),e.j41(58,"button",28),e.bIt("click",function(){return e.eBV(n),e.Njj(r.onSave())}),e.DNE(59,Q,2,0,"mat-icon",29),e.j41(60,"span"),e.EFF(61),e.nI1(62,"uppercase"),e.k0s()()()()(),e.j41(63,"mat-autocomplete",30,2),e.DNE(65,Z,2,2,"mat-option",31),e.nI1(66,"async"),e.k0s()}if(2&i){const n=e.sdS(46),l=e.sdS(64);e.R7$(3),e.Y8G("feature",r.feature)("featureIcon",r.featureIcon)("icon",r.icon)("parentUrl",r.parentUrl),e.R7$(),e.Y8G("formGroup",r.form),e.R7$(3),e.JRh(r.getLabel("description")),e.R7$(),e.Y8G("inputTabStop",n),e.R7$(),e.Y8G("ngIf",r.description.hasError("required")),e.R7$(4),e.JRh(r.getLabel("bank")),e.R7$(),e.Y8G("inputTabStop",n)("matAutocompleteDisabled",r.isAutoCompleteDisabled)("matAutocomplete",l),e.R7$(7),e.Y8G("ngIf",r.bank.hasError("required")),e.R7$(),e.Y8G("ngIf",!r.bank.hasError("required")&&r.bank.hasError("incorrect")),e.R7$(3),e.JRh(r.getLabel("iban")),e.R7$(),e.Y8G("inputTabStop",n),e.R7$(3),e.JRh(r.getLabel("vatNumber")),e.R7$(),e.Y8G("inputTabStop",n),e.R7$(),e.Y8G("ngIf",r.vatNumber.hasError("required")),e.R7$(4),e.JRh(r.getLabel("phones")),e.R7$(),e.Y8G("inputTabStop",n),e.R7$(3),e.JRh(r.getLabel("email")),e.R7$(),e.Y8G("inputTabStop",n),e.R7$(),e.Y8G("ngIf",r.email.hasError("email")),e.R7$(3),e.JRh(r.getLabel("remarks")),e.R7$(4),e.JRh(r.getHint("remainingCharacters",+n.getAttribute("maxlength")-r.getRemarksLength())),e.R7$(4),e.JRh(r.getLabel("isActive")),e.R7$(2),e.Y8G("feature",r.feature)("postAt",r.form.value.postAt)("postUser",r.form.value.postUser)("putAt",r.form.value.putAt)("putUser",r.form.value.putUser),e.R7$(3),e.Y8G("ngIf",0!==r.form.value.id),e.R7$(),e.Y8G("disabled",!r.form.valid),e.R7$(),e.Y8G("ngIf",!r.form.valid),e.R7$(2),e.JRh(e.bMT(62,38,r.getLabel("saveButton"))),e.R7$(2),e.Y8G("displayWith",r.autocompleteFields.bind(r,"description")),e.R7$(2),e.Y8G("ngForOf",e.bMT(66,40,r.dropdownBanks))}},dependencies:[d.Sq,d.bT,p.qT,p.me,p.BC,p.cb,y.K,G.i,O.B,E.$3,w.wT,E.pN,S.$z,S.iY,X.So,h.rl,h.nJ,h.MV,h.TL,h.yw,B.An,V.fg,P.j,p.j4,p.JD,d.Jj,d.Pc],styles:["[_nghost-%COMP%]{width:100%}#form-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}#content[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(6.5px);backdrop-filter:blur(6.5px);background-color:var(--color-background);border-radius:1rem;border:.0625rem solid color-mix(in srgb,var(--color-border) 50%,transparent);display:flex;flex-direction:column;gap:.9375rem;height:100%;overflow-y:hidden;padding:1rem 1.6rem 1rem 2rem;transition:background-color var(--theme-delay)}#form[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;margin:0 auto;overflow-y:hidden;width:80%}#header[_ngcontent-%COMP%]{align-items:center;display:flex;margin:0 auto;width:80%}#footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;justify-content:right;padding:.875rem 2rem}#align-right[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin:0 0 0 auto}.group-input-field[_ngcontent-%COMP%]{display:flex;gap:.5rem}.checkboxes[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:0 0 0 1rem}.align-bottom[_ngcontent-%COMP%]{margin-top:auto!important}","[_nghost-%COMP%]{height:100%}#general-tab[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;justify-content:center;overflow:hidden}#contact-details-tab[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;justify-content:flex-start;overflow:hidden}#textarea[_ngcontent-%COMP%]{height:168px;margin-top:.5rem;margin-bottom:1rem;resize:none}.group-input-field[_ngcontent-%COMP%]:last-child{margin-top:auto}"]})}}return o})();var x=s(9437),$=s(7673),N=s(668);let q=(()=>{class o{constructor(t){this.supplierHttpService=t}resolve(t){return this.supplierHttpService.getSingle(t.params.id).pipe((0,v.T)(i=>new N.T(i)),(0,x.W)(i=>(0,$.of)(new N.T(null,i))))}static{this.\u0275fac=function(i){return new(i||o)(e.KVO(b.O))}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var ee=s(1572),te=s(8862),re=s(2182),ie=s(5779),oe=s(2711),f=s(8520),ne=s(4435);const se=["table"];function ae(o,c){if(1&o){const t=e.RV6();e.j41(0,"tr")(1,"th",15),e.EFF(2),e.k0s(),e.j41(3,"th",16),e.EFF(4),e.k0s(),e.j41(5,"th",17),e.EFF(6),e.k0s(),e.j41(7,"th",18),e.EFF(8),e.k0s(),e.j41(9,"th",19),e.EFF(10),e.k0s()(),e.j41(11,"tr")(12,"th",20),e.nrm(13,"p-columnFilter",21),e.k0s(),e.j41(14,"th",22)(15,"p-columnFilter",23),e.bIt("input",function(r){e.eBV(t);const n=e.XpG();return e.Njj(n.onFilter(r.target.value,"description","contains"))}),e.k0s()(),e.j41(16,"th",22)(17,"p-columnFilter",24),e.bIt("input",function(r){e.eBV(t);const n=e.XpG();return e.Njj(n.onFilter(r.target.value,"vatNumber","contains"))}),e.k0s()(),e.j41(18,"th",22)(19,"p-columnFilter",25),e.bIt("input",function(r){e.eBV(t);const n=e.XpG();return e.Njj(n.onFilter(r.target.value,"email","contains"))}),e.k0s()(),e.j41(20,"th",22)(21,"p-columnFilter",26),e.bIt("input",function(r){e.eBV(t);const n=e.XpG();return e.Njj(n.onFilter(r.target.value,"phones","contains"))}),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(2),e.JRh(t.getLabel("headerIsActive")),e.R7$(2),e.JRh(t.getLabel("headerDescription")),e.R7$(2),e.JRh(t.getLabel("headerVatNumber")),e.R7$(2),e.JRh(t.getLabel("headerEmail")),e.R7$(2),e.JRh(t.getLabel("headerPhones"))}}function le(o,c){if(1&o){const t=e.RV6();e.j41(0,"tr",27),e.bIt("click",function(){const r=e.eBV(t).$implicit,n=e.XpG();return e.Njj(n.onHighlightRow(r.id))})("contextmenu",function(){const r=e.eBV(t).$implicit,n=e.XpG();return e.Njj(n.onHighlightRow(r.id))})("dblclick",function(){const r=e.eBV(t).$implicit,n=e.XpG();return e.Njj(n.onEditRecord(r.id))}),e.j41(1,"td",28)(2,"span",29),e.EFF(3),e.k0s()(),e.j41(4,"td",30)(5,"span"),e.EFF(6),e.k0s()(),e.j41(7,"td",30)(8,"span"),e.EFF(9),e.k0s()(),e.j41(10,"td",30)(11,"span"),e.EFF(12),e.k0s()(),e.j41(13,"td",30)(14,"span"),e.EFF(15),e.k0s()()()}if(2&o){const t=c.$implicit,i=e.XpG();e.Y8G("pContextMenuRow",t),e.BMQ("id",t.id),e.R7$(3),e.JRh(i.getEmoji(t.isActive)),e.R7$(3),e.JRh(t.description),e.R7$(3),e.JRh(t.vatNumber),e.R7$(3),e.JRh(t.email),e.R7$(3),e.JRh(t.phones)}}let pe=(()=>{class o{constructor(t,i,r,n,l,a,m,F,R){this.activatedRoute=t,this.dialogService=i,this.emojiService=r,this.helperService=n,this.interactionService=l,this.messageDialogService=a,this.messageLabelService=m,this.router=F,this.sessionStorageService=R,this.url="suppliers",this.feature="supplierList",this.featureIcon="suppliers",this.icon="home",this.parentUrl="/home",this.records=[],this.recordsFilteredCount=0}ngOnInit(){this.loadRecords().then(()=>{this.filterTableFromStoredFilters(),this.subscribeToInteractionService(),this.setTabTitle(),this.setSidebarsHeight(),this.initContextMenu()})}ngAfterViewInit(){setTimeout(()=>{this.getVirtualElement(),this.scrollToSavedPosition(),this.hightlightSavedRow(),this.enableDisableFilters()},500)}getEmoji(t){return this.emojiService.getEmoji("string"==typeof t?t:t?"green-box":"red-box")}getLabel(t){return this.messageLabelService.getDescription(this.feature,t)}onEditRecord(t){this.storeScrollTop(),this.storeSelectedId(t),this.navigateToRecord(t)}onFilter(t,i,r){t&&this.table.filter(t,i,r)}onFilterRecords(t){this.sessionStorageService.saveItem(this.feature+"-filters",JSON.stringify(this.table.filters)),this.recordsFilteredCount=t.filteredValue.length}onHighlightRow(t){this.helperService.highlightRow(t)}onNewRecord(){this.router.navigate([this.url+"/new"])}onResetTableFilters(){this.helperService.clearTableTextFilters(this.table,["description","email","phones"])}enableDisableFilters(){0==this.records.length?this.helperService.disableTableFilters():this.helperService.enableTableFilters()}filterColumn(t,i,r){null!=t&&(null!=t.value||null!=t.value)&&this.table.filter(t.value,i,r)}filterTableFromStoredFilters(){const t=this.sessionStorageService.getFilters(this.feature+"-filters");null!=t&&setTimeout(()=>{this.filterColumn(t.isActive,"isActive","contains"),this.filterColumn(t.description,"description","contains"),this.filterColumn(t.vatNumber,"vatNumber","contains"),this.filterColumn(t.email,"email","contains"),this.filterColumn(t.phones,"phones","contains")},500)}getVirtualElement(){this.virtualElement=document.getElementsByClassName("p-scroller-inline")[0]}goBack(){this.router.navigate([this.parentUrl])}hightlightSavedRow(){this.helperService.highlightSavedRow(this.feature)}initContextMenu(){this.menuItems=[{label:this.getLabel("contextMenuEdit"),command:()=>this.onEditRecord(this.selectedRecord.id)}]}loadRecords(){return new Promise(t=>{const i=this.activatedRoute.snapshot.data[this.feature];null==i.error?(this.records=i.list,this.recordsFilteredCount=this.records.length,t(this.records)):this.dialogService.open(this.messageDialogService.filterResponse(i.error),"error",["ok"]).subscribe(()=>{this.goBack()})})}navigateToRecord(t){this.router.navigate([this.url,t])}scrollToSavedPosition(){this.helperService.scrollToSavedPosition(this.virtualElement,this.feature)}setSidebarsHeight(){this.helperService.setSidebarsTopMargin("0")}setTabTitle(){this.helperService.setTabTitle(this.feature)}storeSelectedId(t){this.sessionStorageService.saveItem(this.feature+"-id",t.toString())}storeScrollTop(){this.sessionStorageService.saveItem(this.feature+"-scrollTop",this.virtualElement.scrollTop)}subscribeToInteractionService(){this.interactionService.refreshTabTitle.subscribe(()=>{this.setTabTitle()})}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(u.nX),e.rXU(C.o),e.rXU(ee.E),e.rXU(j.wT),e.rXU(te.y),e.rXU(T.$),e.rXU(I.F),e.rXU(u.Ix),e.rXU(re.R))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["supplier-list"]],viewQuery:function(i,r){if(1&i&&e.GBs(se,5),2&i){let n;e.mGM(n=e.lsd())&&(r.table=n.first)}},decls:17,vars:16,consts:[["contextMenu",""],["table",""],["id","list-wrapper"],["id","content"],["id","header"],[3,"featureIcon","feature","icon","parentUrl"],["id","table-wrapper"],[3,"model"],["dataKey","id","scrollHeight","flex","selectionMode","single","sortMode","multiple",3,"onFilter","contextMenuSelectionChange","contextMenuSelection","contextMenu","scrollable","value","virtualScrollItemSize","virtualScroll"],["pTemplate","header"],["pTemplate","body"],["id","footer"],[3,"resetTableFilters","filteredRecordCount","recordCount"],["id","align-right"],["mat-flat-button","",1,"primary",3,"click"],["pSortableColumn","isActive",1,"no-border-bottom","width-5"],["pSortableColumn","description",1,"no-border-bottom","width-18"],["pSortableColumn","vatNumber",1,"no-border-bottom","width-18"],["pSortableColumn","email",1,"no-border-bottom","width-18"],["pSortableColumn","phones",1,"no-border-bottom","width-18"],[1,"no-border-top","width-5"],["field","isActive","type","boolean"],[1,"no-border-top","width-18"],["field","description",3,"input"],["field","vatNumber",3,"input"],["field","email",3,"input"],["field","phones",3,"input"],[2,"height","32px",3,"click","contextmenu","dblclick","pContextMenuRow"],[1,"width-5"],[1,"center","no-left-padding","no-overflow",2,"font-size","0.5rem","padding-top","0 !important"],[1,"width-18"]],template:function(i,r){if(1&i){const n=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div",4),e.nrm(3,"home-button-and-title",5),e.k0s(),e.j41(4,"div",6),e.nrm(5,"p-contextMenu",7,0),e.j41(7,"p-table",8,1),e.bIt("onFilter",function(a){return e.eBV(n),e.Njj(r.onFilterRecords(a))}),e.mxI("contextMenuSelectionChange",function(a){return e.eBV(n),e.DH7(r.selectedRecord,a)||(r.selectedRecord=a),e.Njj(a)}),e.DNE(9,ae,22,5,"ng-template",9)(10,le,16,7,"ng-template",10),e.k0s()()(),e.j41(11,"div",11)(12,"table-total-filtered-records",12),e.bIt("resetTableFilters",function(){return e.eBV(n),e.Njj(r.onResetTableFilters())}),e.k0s(),e.j41(13,"div",13)(14,"button",14),e.bIt("click",function(){return e.eBV(n),e.Njj(r.onNewRecord())}),e.EFF(15),e.nI1(16,"uppercase"),e.k0s()()()()}if(2&i){const n=e.sdS(6);e.R7$(3),e.Y8G("featureIcon",r.featureIcon)("feature",r.feature)("icon",r.icon)("parentUrl",r.parentUrl),e.R7$(2),e.Y8G("model",r.menuItems),e.R7$(2),e.R50("contextMenuSelection",r.selectedRecord),e.Y8G("contextMenu",n)("scrollable",!0)("value",r.records)("virtualScrollItemSize",32)("virtualScroll",!0),e.R7$(5),e.Y8G("filteredRecordCount",r.recordsFilteredCount)("recordCount",r.records.length),e.R7$(3),e.JRh(e.bMT(16,14,r.getLabel("newRecord")))}},dependencies:[y.K,S.$z,ie.Ei,oe.tz,f.XI,f.Tg,f.H$,f.rl,ne.j,d.Pc],styles:["#list-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}#content[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(6.5px);backdrop-filter:blur(6.5px);background-color:var(--color-background);border-radius:1rem;border:.0625rem solid color-mix(in srgb,var(--color-border) 50%,transparent);display:flex;flex-direction:column;gap:.9375rem;height:100%;margin:0 auto;overflow-y:hidden;padding:1rem 1.6rem 1rem 2rem;transition:background-color var(--theme-delay);width:100%}#header[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;justify-content:space-between;margin:0 2rem 0 0}#table-wrapper[_ngcontent-%COMP%]{height:100%;width:100%}#footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;justify-content:right;padding:.875rem 2rem}#align-right[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-left:auto}"]})}}return o})();var L=s(1338);const me=[{path:"",component:pe,canActivate:[g.r],resolve:{supplierList:(()=>{class o{constructor(t){this.supplierHttpService=t}resolve(){return this.supplierHttpService.getAll().pipe((0,v.T)(t=>new L.X(t)),(0,x.W)(t=>(0,$.of)(new L.X(null,t))))}static{this.\u0275fac=function(i){return new(i||o)(e.KVO(b.O))}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})()}},{path:"new",component:A,canActivate:[g.r]},{path:":id",component:A,canActivate:[g.r],resolve:{supplierForm:q}}];let ue=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[u.iI.forChild(me),u.iI]})}}return o})();var de=s(8330);let he=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[de.G,ue]})}}return o})()}}]);