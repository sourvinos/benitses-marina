"use strict";(self.webpackChunkFrontEnd=self.webpackChunkFrontEnd||[]).push([[452],{6452:(nt,N,s)=>{s.r(N),s.d(N,{ReservationModule:()=>Ze});var c=s(33),R=s(2676),l=s(9417),q=s(9172),F=s(6354),k=s(8477),_=s(5312),e=s(4438),E=s(2079),D=s(6600),A=s(3979),K=s(369),$=s(5018),w=s(1572),G=s(9790),L=s(97),B=s(1626);let Z=(()=>{class o extends L.s{constructor(t){super(t,_.c.apiUrl)}buildLeasePdf(t){return this.http.post(this.url+"/leases",t)}openLeasePdf(t){return this.http.get(this.url+"/leases/openLeasePdf/"+t,{responseType:"arraybuffer"})}static{this.\u0275fac=function(n){return new(n||o)(e.KVO(B.Qq))}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var Q=s(1649),P=s(7028),ee=s(3874),x=s(8934);let T=(()=>{class o extends L.s{constructor(t){super(t,_.c.apiUrl+"/reservations")}saveReservation(t){return null==t.reservationId?this.http.post(this.url,t):this.http.put(this.url,t)}static{this.\u0275fac=function(n){return new(n||o)(e.KVO(B.Qq))}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var O=s(2182),d=s(177),J=s(4433),te=s(285),re=s(1168),Y=s(850),C=s(8834),oe=s(2765),y=s(5084),h=s(882),M=s(9213),ne=s(9631),j=s(9115),U=s(6850),ie=s(2135),ae=s(2418);function se(o,m){if(1&o){const t=e.RV6();e.j41(0,"div",96)(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"img",97),e.bIt("load",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.loadImage())}),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(2),e.JRh(t.form.value.boatName),e.R7$(),e.Y8G("ngClass",t.imageIsLoading())("src",t.getIcon("boat"),e.B4B)}}function le(o,m){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function me(o,m){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function pe(o,m){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("invalid"))}}function ue(o,m){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function de(o,m){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("invalid"))}}function ce(o,m){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function he(o,m){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function ge(o,m){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function fe(o,m){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function be(o,m){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function ve(o,m){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function Re(o,m){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function Fe(o,m){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function ke(o,m){if(1&o){const t=e.RV6();e.j41(0,"div",25)(1,"button",26),e.bIt("click",function(){e.eBV(t);const r=e.XpG().index,a=e.XpG();return e.Njj(a.onRemoveBerth(r))}),e.j41(2,"mat-icon",27),e.EFF(3,"close"),e.k0s()()()}}function _e(o,m){if(1&o&&(e.j41(0,"div")(1,"div",98)(2,"mat-form-field")(3,"mat-label"),e.EFF(4),e.k0s(),e.nrm(5,"input",99),e.DNE(6,ke,4,0,"div",100),e.k0s()()()),2&o){const t=m.index,n=e.XpG(),r=e.sdS(146);e.R7$(),e.Y8G("formGroupName",t),e.R7$(3),e.JRh(n.getLabel("berth")),e.R7$(),e.Y8G("inputTabStop",r),e.R7$(),e.Y8G("ngIf",n.berthsArray.length>1)}}function Te(o,m){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function Ce(o,m){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function ye(o,m){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function je(o,m){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function Se(o,m){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function Ie(o,m){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("invalid"))}}function Ne(o,m){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function Ee(o,m){1&o&&e.eu8(0)}function De(o,m){if(1&o){const t=e.RV6();e.j41(0,"button",101),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.onDelete())}),e.j41(1,"span"),e.EFF(2),e.nI1(3,"uppercase"),e.k0s()()}if(2&o){const t=e.XpG();e.Y8G("disabled",!t.isAdmin()),e.R7$(2),e.JRh(e.bMT(3,2,t.getLabel("deleteButton")))}}function Ae(o,m){1&o&&(e.j41(0,"mat-icon",41),e.EFF(1,"lock"),e.k0s())}function $e(o,m){if(1&o&&(e.j41(0,"mat-option",102),e.EFF(1),e.k0s()),2&o){const t=m.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t.description," ")}}function we(o,m){if(1&o&&(e.j41(0,"mat-option",102),e.EFF(1),e.k0s()),2&o){const t=m.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t.description," ")}}function Ge(o,m){if(1&o&&(e.j41(0,"mat-option",102),e.EFF(1),e.k0s()),2&o){const t=m.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t.description," ")}}function Le(o,m){if(1&o){const t=e.RV6();e.j41(0,"button",103),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.onCreateLeaseAndOpen())}),e.j41(1,"span"),e.EFF(2),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(2),e.JRh(t.getLabel("printLeaseButton"))}}let X=(()=>{class o{constructor(t,n,r,a,p,i,u,f,b,v,S,I,Qe,et,tt,rt,ot){this.activatedRoute=t,this.cryptoService=n,this.dateAdapter=r,this.dateHelperService=a,this.dexieService=p,this.dialogService=i,this.emojiService=u,this.formBuilder=f,this.helperService=b,this.leasePdfHttpService=v,this.localStorageService=S,this.messageDialogService=I,this.messageHintService=Qe,this.messageLabelService=et,this.reservationHttpService=tt,this.router=rt,this.sessionStorageService=ot,this.feature="reservationForm",this.featureIcon="reservations",this.icon="arrow_back",this.parentUrl="/reservations",this.imgIsLoaded=!1,this.isAutoCompleteDisabled=!0,this.berthsArray=[]}ngOnInit(){this.initForm(),this.setRecordId(),this.getRecord(),this.populateFields(),this.populateDropdowns(),this.populateBerths(),this.setLocale()}ngAfterViewInit(){this.focusOnField(),this.leftAlignLastTab()}autocompleteFields(t,n){return n?n[t]:void 0}onCreateLeaseAndOpen(){const t=[];t.push(this.form.value.reservationId),this.leasePdfHttpService.buildLeasePdf(t).subscribe({next:n=>{this.leasePdfHttpService.openLeasePdf(n.body[0]).subscribe({next:r=>{const a=new Blob([r],{type:"application/pdf"}),p=URL.createObjectURL(a);window.open(p,"_blank")},error:r=>{this.dialogService.open(this.messageDialogService.filterResponse(r),"error",["ok"])}})},error:n=>{this.dialogService.open(this.messageDialogService.filterResponse(n),"error",["ok"])}})}calculateVatAmountAndGrossAmountBasedOnNetAmount(t,n){this.patchNumericFieldsWithZeroIfNullOrEmpty(t,n);const r=parseFloat(this.form.value.netAmount),p=r*(this.form.value.vatPercent/100),i=r+p;this.form.patchValue({netAmount:r.toFixed(2),vatAmount:p.toFixed(2),grossAmount:i.toFixed(2)})}calculateNetAndGrossAmountBasedOnVatPercent(t,n){this.patchNumericFieldsWithZeroIfNullOrEmpty(t,n),this.calculateVatAmountAndGrossAmountBasedOnNetAmount(t,n)}calculateNetAmountBasedOnGrossAmount(t,n){this.patchNumericFieldsWithZeroIfNullOrEmpty(t,n);const r=this.form.value.grossAmount/(1+this.form.value.vatPercent/100),p=r*(this.form.value.vatPercent/100),i=parseFloat(this.form.value.grossAmount);this.form.patchValue({netAmount:r.toFixed(2),vatAmount:p.toFixed(2),grossAmount:i.toFixed(2)})}copyOwnerToBilling(){this.form.patchValue({billingName:this.form.value.ownerName,billingAddress:this.form.value.ownerAddress,billingTaxNo:this.form.value.ownerTaxNo,billingTaxOffice:this.form.value.ownerTaxOffice,billingPassportNo:this.form.value.ownerPassportNo,billingPhones:this.form.value.ownerPhones,billingEmail:this.form.value.ownerEmail})}checkForEmptyAutoComplete(t){""==t.target.value&&(this.isAutoCompleteDisabled=!0)}enableOrDisableAutoComplete(t){this.isAutoCompleteDisabled=this.helperService.enableOrDisableAutoComplete(t)}getEmoji(t){return this.emojiService.getEmoji(t)}getHint(t,n=0){return this.messageHintService.getDescription(t,n)}getIcon(t){return _.c.featuresIconDirectory+t+".svg"}getLabel(t){return this.messageLabelService.getDescription(this.feature,t)}getNewOrEditHeader(){return""==this.form.value.reservationId?"headerNew":"headerEdit"}getRemarksLength(){return null!=this.form.value.remarks?this.form.value.remarks.length:0}getFinancialRemarksLength(){return null!=this.form.value.financialRemarks?this.form.value.financialRemarks.length:0}imageIsLoading(){return this.imgIsLoaded?"":"skeleton"}isAdmin(){return"true"==this.cryptoService.decrypt(this.sessionStorageService.getItem("isAdmin"))}isNotNewRecord(){return this.form.value.reservationId}loadImage(){this.imgIsLoaded=!0}onAddBerthTextBox(){const t=this.form.get("berths"),n=this.formBuilder.group({description:""});t.push(n),this.berthsArray.push(this.form.controls.berths.value)}onDelete(){this.dialogService.open(this.messageDialogService.confirmDelete(),"question",["abort","ok"]).subscribe(t=>{t&&this.reservationHttpService.delete(this.form.value.reservationId).subscribe({complete:()=>{this.helperService.doPostSaveFormTasks(this.messageDialogService.success(),"ok",this.parentUrl,!0)},error:n=>{this.dialogService.open(this.messageDialogService.filterResponse(n),"error",["ok"])}})})}onRemoveBerth(t){this.form.get("berths").removeAt(t),this.berthsArray.splice(t,1)}onSave(){this.saveRecord(this.flattenForm())}openOrCloseAutoComplete(t,n){this.helperService.openOrCloseAutocomplete(this.form,n,t)}filterAutocomplete(t,n,r){if("object"!=typeof r){const a=r.toLowerCase();return this[t].filter(p=>p[n].toLowerCase().startsWith(a))}}flattenForm(){return{reservationId:""!=this.form.value.reservationId?this.form.value.reservationId:null,fromDate:this.dateHelperService.formatDateToIso(new Date(this.form.value.fromDate)),toDate:this.dateHelperService.formatDateToIso(new Date(this.form.value.toDate)),berths:this.form.value.berths,remarks:this.form.value.remarks,financialRemarks:this.form.value.financialRemarks,paymentStatusId:this.form.value.paymentStatus.id,boat:this.mapBoat(this.form),insurance:this.mapInsurance(this.form),owner:this.mapOwner(this.form),billing:this.mapBilling(this.form),fee:this.mapFee(this.form),isDocked:this.form.value.isDocked,isDryDock:this.form.value.isDryDock,isAthenian:this.form.value.isAthenian,putAt:this.form.value.putAt}}focusOnField(){this.helperService.focusOnField()}getRecord(){if(null!=this.reservationId)return new Promise(t=>{const n=this.activatedRoute.snapshot.data.reservationForm;null==n.error?(this.reservation=n.record.body,t(this.reservation)):this.dialogService.open(this.messageDialogService.filterResponse(n.error),"error",["ok"]).subscribe(()=>{this.resetForm(),this.goBack()})})}goBack(){this.router.navigate([this.parentUrl])}initForm(){this.form=this.formBuilder.group({reservationId:"",boatName:["",[l.k0.required]],flag:"",loa:["",[l.k0.required,l.k0.min(0),l.k0.max(30)]],beam:["",[l.k0.required,l.k0.min(0),l.k0.max(30)]],draft:["",[l.k0.required,l.k0.min(0),l.k0.max(30)]],registryPort:["",[l.k0.required]],registryNo:["",[l.k0.required]],boatType:["",[l.k0.required,k.B.RequireAutocomplete]],boatUsage:["",[l.k0.required,k.B.RequireAutocomplete]],fromDate:["",[l.k0.required]],toDate:["",[l.k0.required]],berths:this.formBuilder.array([]),remarks:["",l.k0.maxLength(2048)],financialRemarks:["",l.k0.maxLength(2048)],paymentStatus:["",[l.k0.required,k.B.RequireAutocomplete]],insuranceCompany:"",policyNo:"",policyEnds:"",netAmount:["",[l.k0.required,l.k0.min(0),l.k0.max(99999)]],vatPercent:["",[l.k0.required,l.k0.min(0),l.k0.max(99)]],vatAmount:["",[l.k0.required,l.k0.min(0),l.k0.max(99999)]],grossAmount:["",[l.k0.required,l.k0.min(0),l.k0.max(99999)]],isDocked:!1,isDryDock:!1,isAthenian:!1,isFishingBoat:!1,isCash:!1,ownerName:"",ownerAddress:"",ownerTaxNo:"",ownerTaxOffice:"",ownerPassportNo:"",ownerPhones:"",ownerEmail:"",billingName:"",billingAddress:"",billingTaxNo:"",billingTaxOffice:"",billingPassportNo:"",billingPhones:"",billingEmail:"",postAt:[""],postUser:[""],putAt:[""],putUser:[""]})}leftAlignLastTab(){this.helperService.leftAlignLastTab()}mapBoat(t){return{reservationId:t.value.reservationId,name:t.value.boatName,flag:t.value.flag,loa:t.value.loa,beam:t.value.beam,draft:t.value.draft,registryPort:t.value.registryPort,registryNo:t.value.registryNo,isFishingBoat:t.value.isFishingBoat,typeId:t.value.boatType.id,usageId:t.value.boatUsage.id}}mapInsurance(t){return{reservationId:t.value.reservationId,insuranceCompany:t.value.insuranceCompany,policyNo:t.value.policyNo,policyEnds:this.dateHelperService.formatDateToIso(new Date(this.form.value.policyEnds))}}mapOwner(t){return{reservationId:t.value.reservationId,name:t.value.ownerName,address:t.value.ownerAddress,taxNo:t.value.ownerTaxNo,taxOffice:t.value.ownerTaxOffice,passportNo:t.value.ownerPassportNo,phones:t.value.ownerPhones,email:t.value.ownerEmail}}mapBilling(t){return{reservationId:t.value.reservationId,name:t.value.billingName,address:t.value.billingAddress,taxNo:t.value.billingTaxNo,taxOffice:t.value.billingTaxOffice,passportNo:t.value.billingPassportNo,phones:t.value.billingPhones,email:t.value.billingEmail}}mapFee(t){return{reservationId:t.value.reservationId,netAmount:t.value.netAmount,vatPercent:t.value.vatPercent,vatAmount:t.value.vatAmount,grossAmount:t.value.grossAmount,isCash:t.value.isCash}}patchNumericFieldsWithZeroIfNullOrEmpty(t,n){(null==this.form.controls[t].value||""==this.form.controls[t].value)&&this.form.patchValue({[t]:parseInt("0").toFixed(n)})}populateDropdownFromDexieDB(t,n,r,a,p){this.dexieService.table(t).orderBy(p).toArray().then(i=>{this[t]=null==this.reservationId?i.filter(u=>u.isActive):i,this[n]=this.form.get(r).valueChanges.pipe((0,q.Z)(""),(0,F.T)(u=>this.filterAutocomplete(t,a,u)))})}populateDropdowns(){this.populateDropdownFromDexieDB("boatTypes","dropdownBoatTypes","boatType","description","description"),this.populateDropdownFromDexieDB("boatUsages","dropdownBoatUsages","boatUsage","description","description"),this.populateDropdownFromDexieDB("paymentStatuses","dropdownPaymentStatuses","paymentStatus","description","description")}populateFields(){null!=this.reservation&&this.form.setValue({reservationId:this.reservation.reservationId,boatName:this.reservation.boat.name,flag:this.reservation.boat.flag,loa:this.reservation.boat.loa,beam:this.reservation.boat.beam,draft:this.reservation.boat.draft,registryPort:this.reservation.boat.registryPort,registryNo:this.reservation.boat.registryNo,fromDate:this.reservation.fromDate,toDate:this.reservation.toDate,berths:[],remarks:this.reservation.remarks,financialRemarks:this.reservation.financialRemarks,isDocked:this.reservation.isDocked,isDryDock:this.reservation.isDryDock,isAthenian:this.reservation.isAthenian,isFishingBoat:this.reservation.boat.isFishingBoat,isCash:this.reservation.fee.isCash,paymentStatus:{id:this.reservation.paymentStatus.id,description:this.reservation.paymentStatus.description},boatType:{id:this.reservation.boat.type.id,description:this.reservation.boat.type.description},boatUsage:{id:this.reservation.boat.usage.id,description:this.reservation.boat.usage.description},insuranceCompany:this.reservation.insurance.insuranceCompany,policyNo:this.reservation.insurance.policyNo,policyEnds:this.reservation.insurance.policyEnds,netAmount:this.reservation.fee.netAmount,vatPercent:this.reservation.fee.vatPercent,vatAmount:this.reservation.fee.vatAmount,grossAmount:this.reservation.fee.grossAmount,ownerName:this.reservation.owner.name,ownerAddress:this.reservation.owner.address,ownerTaxNo:this.reservation.owner.taxNo,ownerTaxOffice:this.reservation.owner.taxOffice,ownerPassportNo:this.reservation.owner.passportNo,ownerPhones:this.reservation.owner.phones,ownerEmail:this.reservation.owner.email,billingName:this.reservation.billing.name,billingAddress:this.reservation.billing.address,billingTaxNo:this.reservation.billing.taxNo,billingTaxOffice:this.reservation.billing.taxOffice,billingPassportNo:this.reservation.billing.passportNo,billingPhones:this.reservation.billing.phones,billingEmail:this.reservation.billing.email,postAt:this.reservation.postAt,postUser:this.reservation.postUser,putAt:this.reservation.putAt,putUser:this.reservation.putUser})}populateBerths(){this.reservation&&this.reservation.berths.length>=1?this.reservation.berths.forEach(t=>{const n=this.form.get("berths"),r=this.formBuilder.group({reservationId:t.reservationId,description:t.description});n.push(r),this.berthsArray.push(this.form.controls.berths.value)}):this.onAddBerthTextBox()}resetForm(){this.form.reset()}saveRecord(t){this.reservationHttpService.saveReservation(t).subscribe({next:n=>{this.helperService.doPostSaveFormTasks(200==n.code?this.messageDialogService.success():"","ok",this.parentUrl,!0)},error:n=>{this.dialogService.open(this.messageDialogService.filterResponse(n),"error",["ok"])}})}setLocale(){this.dateAdapter.setLocale(this.localStorageService.getLanguage())}setRecordId(){this.activatedRoute.params.subscribe(t=>{this.reservationId=t.id})}get boatName(){return this.form.get("boatName")}get loa(){return this.form.get("loa")}get beam(){return this.form.get("beam")}get draft(){return this.form.get("draft")}get fromDate(){return this.form.get("fromDate")}get toDate(){return this.form.get("toDate")}get paymentStatus(){return this.form.get("paymentStatus")}get remarks(){return this.form.get("remarks")}get financialRemarks(){return this.form.get("financialRemarks")}get postAt(){return this.form.get("postAt")}get postUser(){return this.form.get("postUser")}get putAt(){return this.form.get("putAt")}get putUser(){return this.form.get("putUser")}get insuranceCompany(){return this.form.get("insuranceCompany")}get policyNo(){return this.form.get("policyNo")}get policyEnds(){return this.form.get("policyEnds")}get flag(){return this.form.get("flag")}get registryPort(){return this.form.get("registryPort")}get registryNo(){return this.form.get("registryNo")}get boatType(){return this.form.get("boatType")}get boatUsage(){return this.form.get("boatUsage")}get netAmount(){return this.form.get("netAmount")}get vatPercent(){return this.form.get("vatPercent")}get vatAmount(){return this.form.get("vatAmount")}get grossAmount(){return this.form.get("grossAmount")}get ownerName(){return this.form.get("ownerName")}get ownwerAddress(){return this.form.get("ownerAddress")}get ownerTaxNo(){return this.form.get("ownerTaxNo")}get ownerTaxOffice(){return this.form.get("ownerTaxOffice")}get ownerPassportNo(){return this.form.get("ownerPassportNo")}get ownerPhones(){return this.form.get("ownerPhones")}get ownerEmail(){return this.form.get("ownerEmail")}get billingName(){return this.form.get("billingName")}get billingAddress(){return this.form.get("billingAddress")}get billingTaxNo(){return this.form.get("billingTaxNo")}get billingTaxOffice(){return this.form.get("billingTaxOffice")}get billingPassportNo(){return this.form.get("billingPassportNo")}get billingPhones(){return this.form.get("billingPhones")}get billingEmail(){return this.form.get("billingEmail")}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(c.nX),e.rXU(E.j),e.rXU(D.MJ),e.rXU(A.c),e.rXU(K.T),e.rXU($.o),e.rXU(w.E),e.rXU(l.ok),e.rXU(G.wT),e.rXU(Z),e.rXU(Q.s),e.rXU(P.$),e.rXU(ee.S),e.rXU(x.F),e.rXU(T),e.rXU(c.Ix),e.rXU(O.R))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["reservation-form"]],decls:282,vars:144,consts:[["inputAutoComplete","","triggerBoatType","matAutocompleteTrigger"],["inputAutoComplete","","triggerBoatUsage","matAutocompleteTrigger"],["fromDatePicker",""],["toDatePicker",""],["inputAutoComplete","","triggerPaymentStatus","matAutocompleteTrigger"],["input",""],["policyEndsDatePicker",""],["menu","matMenu"],["boatTypes","matAutocomplete"],["boatUsages","matAutocomplete"],["paymentStatuses","matAutocomplete"],["actionsMenu",""],["id","form-wrapper"],["id","content"],["id","header"],[3,"feature","featureIcon","header","icon","parentUrl"],["id","boat-name",4,"ngIf"],["id","form",3,"formGroup"],["mat-stretch-tabs","false"],[3,"label"],["id","general-tab"],[1,"group-input-field"],["dataTabIndex","1","formControlName","boatName","matInput","",3,"inputTabStop"],[4,"ngIf"],["dataTabIndex","2","formControlName","boatType","matInput","",3,"keydown","keyup","inputTabStop","matAutocompleteDisabled","matAutocomplete"],["matSuffix","",2,"display","flex"],["mat-icon-button","","type","button",3,"click"],[1,"input-suffix","material-icons-outlined"],["dataTabIndex","3","formControlName","boatUsage","matInput","",3,"keydown","keyup","inputTabStop","matAutocompleteDisabled","matAutocomplete"],["currencyMask","","dataTabIndex","4","formControlName","loa","matInput","",3,"inputTabStop"],["currencyMask","","dataTabIndex","5","formControlName","beam","matInput","",3,"inputTabStop"],["currencyMask","","dataTabIndex","6","formControlName","draft","matInput","",3,"inputTabStop"],["dataTabIndex","7","formControlName","flag","matInput","",3,"inputTabStop"],["dataTabIndex","8","formControlName","registryPort","matInput","",3,"inputTabStop"],["dataTabIndex","9","formControlName","registryNo","matInput","",3,"inputTabStop"],["dataTabIndex","10","formControlName","fromDate","matInput","",3,"inputTabStop","matDatepicker"],["matIconSuffix","",3,"for"],["dataTabIndex","11","formControlName","toDate","matInput","",3,"inputTabStop","matDatepicker"],["formArrayName","berths"],[4,"ngFor","ngForOf"],["id","add-berth-button",3,"click"],[1,"material-icons-outlined"],[1,"stacked-checkboxes"],["formControlName","isAthenian"],["formControlName","isDocked"],["formControlName","isFishingBoat"],["formControlName","isDryDock"],["id","financial-tab"],["currencyMask","","dataTabIndex","1","formControlName","netAmount","matInput","",3,"blur","inputTabStop"],["currencyMask","","dataTabIndex","2","formControlName","vatPercent","matInput","",3,"blur","inputTabStop"],["currencyMask","","formControlName","vatAmount","matInput","","readonly",""],["currencyMask","","dataTabIndex","3","formControlName","grossAmount","matInput","",3,"blur","inputTabStop"],["dataTabIndex","4","formControlName","paymentStatus","matInput","",3,"keydown","keyup","inputTabStop","matAutocompleteDisabled","matAutocomplete"],["formControlName","financialRemarks","id","textarea","matInput",""],[1,"right"],["formControlName","isCash"],["id","lease-tab"],["dataTabIndex","1","formControlName","insuranceCompany","matInput","",3,"inputTabStop"],["dataTabIndex","2","formControlName","policyNo","matInput","",3,"inputTabStop"],["dataTabIndex","3","formControlName","policyEnds","matInput","",3,"inputTabStop","matDatepicker"],["id","tab-content"],["id","ownwer-tab"],["id","owner-tab-header"],[1,"label"],["dataTabIndex","1","formControlName","ownerName","matInput","",3,"inputTabStop"],["dataTabIndex","2","formControlName","ownerAddress","matInput","",3,"inputTabStop"],["dataTabIndex","3","formControlName","ownerTaxNo","matInput","",3,"inputTabStop"],["dataTabIndex","4","formControlName","ownerTaxOffice","matInput","",3,"inputTabStop"],["dataTabIndex","5","formControlName","ownerPassportNo","matInput","",3,"inputTabStop"],["dataTabIndex","6","formControlName","ownerPhones","matInput","",3,"inputTabStop"],["dataTabIndex","7","formControlName","ownerEmail","matInput","",3,"inputTabStop"],["id","billing-tab"],["id","billing-tab-header"],["id","copy-owner-to-billing",1,"label",3,"click"],["dataTabIndex","8","formControlName","billingName","matInput","",3,"inputTabStop"],["dataTabIndex","9","formControlName","billingAddress","matInput","",3,"inputTabStop"],["dataTabIndex","10","formControlName","billingTaxNo","matInput","",3,"inputTabStop"],["dataTabIndex","11","formControlName","billingTaxOffice","matInput","",3,"inputTabStop"],["dataTabIndex","12","formControlName","billingPassportNo","matInput","",3,"inputTabStop"],["dataTabIndex","13","formControlName","billingPhones","matInput","",3,"inputTabStop"],["dataTabIndex","14","formControlName","billingEmail","matInput","",3,"inputTabStop"],[1,"left-align",3,"label"],["formControlName","remarks","id","textarea","matInput",""],[1,"align-bottom"],[3,"feature","postAt","postUser","putAt","putUser"],["id","footer"],["mat-icon-button","",1,"fab","fab-with-no-background",3,"matMenuTriggerFor"],["xPosition","before",1,"primary"],[4,"ngTemplateOutlet"],["id","align-right"],["class","delete","mat-flat-button","",3,"disabled","click",4,"ngIf"],["mat-flat-button","",1,"primary",3,"click","disabled"],["class","material-icons-outlined",4,"ngIf"],["autoActiveFirstOption","",3,"displayWith"],[3,"value",4,"ngFor","ngForOf"],["xPosition","before"],["id","boat-name"],[2,"height","32px","margin-left","1rem","width","32px",3,"load","ngClass","src"],[3,"formGroupName"],["dataTabIndex","12","formControlName","description","matInput","",3,"inputTabStop"],["matSuffix","","style","display:flex",4,"ngIf"],["mat-flat-button","",1,"delete",3,"click","disabled"],[3,"value"],["mat-menu-item","",3,"click"]],template:function(n,r){if(1&n){const a=e.RV6();e.j41(0,"div",12)(1,"div",13)(2,"div",14),e.nrm(3,"home-button-and-title",15),e.DNE(4,se,4,3,"div",16),e.k0s(),e.j41(5,"form",17)(6,"mat-tab-group",18)(7,"mat-tab",19)(8,"div",20)(9,"div",21)(10,"mat-form-field")(11,"mat-label"),e.EFF(12),e.k0s(),e.nrm(13,"input",22),e.DNE(14,le,2,1,"mat-error",23),e.k0s(),e.j41(15,"mat-form-field")(16,"mat-label"),e.EFF(17),e.k0s(),e.j41(18,"input",24,0),e.bIt("keydown",function(i){return e.eBV(a),e.Njj(r.enableOrDisableAutoComplete(i))})("keyup",function(i){return e.eBV(a),e.Njj(r.checkForEmptyAutoComplete(i))}),e.k0s(),e.j41(21,"div",25)(22,"button",26),e.bIt("click",function(){e.eBV(a);const i=e.sdS(20);return e.Njj(r.openOrCloseAutoComplete(i,"boatType"))}),e.j41(23,"mat-icon",27),e.EFF(24,"expand_more"),e.k0s()()(),e.DNE(25,me,2,1,"mat-error",23)(26,pe,2,1,"mat-error",23),e.k0s(),e.j41(27,"mat-form-field")(28,"mat-label"),e.EFF(29),e.k0s(),e.j41(30,"input",28,1),e.bIt("keydown",function(i){return e.eBV(a),e.Njj(r.enableOrDisableAutoComplete(i))})("keyup",function(i){return e.eBV(a),e.Njj(r.checkForEmptyAutoComplete(i))}),e.k0s(),e.j41(33,"div",25)(34,"button",26),e.bIt("click",function(){e.eBV(a);const i=e.sdS(32);return e.Njj(r.openOrCloseAutoComplete(i,"boatUsage"))}),e.j41(35,"mat-icon",27),e.EFF(36,"expand_more"),e.k0s()()(),e.DNE(37,ue,2,1,"mat-error",23)(38,de,2,1,"mat-error",23),e.k0s(),e.j41(39,"div",21)(40,"mat-form-field")(41,"mat-label"),e.EFF(42),e.k0s(),e.nrm(43,"input",29),e.DNE(44,ce,2,1,"mat-error",23),e.k0s(),e.j41(45,"mat-form-field")(46,"mat-label"),e.EFF(47),e.k0s(),e.nrm(48,"input",30),e.DNE(49,he,2,1,"mat-error",23),e.k0s(),e.j41(50,"mat-form-field")(51,"mat-label"),e.EFF(52),e.k0s(),e.nrm(53,"input",31),e.DNE(54,ge,2,1,"mat-error",23),e.k0s()()(),e.j41(55,"div",21)(56,"mat-form-field")(57,"mat-label"),e.EFF(58),e.k0s(),e.nrm(59,"input",32),e.DNE(60,fe,2,1,"mat-error",23),e.k0s(),e.j41(61,"mat-form-field")(62,"mat-label"),e.EFF(63),e.k0s(),e.nrm(64,"input",33),e.DNE(65,be,2,1,"mat-error",23),e.k0s(),e.j41(66,"mat-form-field")(67,"mat-label"),e.EFF(68),e.k0s(),e.nrm(69,"input",34),e.DNE(70,ve,2,1,"mat-error",23),e.k0s(),e.j41(71,"mat-form-field")(72,"mat-label"),e.EFF(73),e.k0s(),e.nrm(74,"input",35)(75,"mat-datepicker-toggle",36)(76,"mat-datepicker",null,2),e.DNE(78,Re,2,1,"mat-error",23),e.k0s(),e.j41(79,"mat-form-field")(80,"mat-label"),e.EFF(81),e.k0s(),e.nrm(82,"input",37)(83,"mat-datepicker-toggle",36)(84,"mat-datepicker",null,3),e.DNE(86,Fe,2,1,"mat-error",23),e.k0s()(),e.j41(87,"div",38)(88,"div",21),e.DNE(89,_e,7,4,"div",39),e.j41(90,"span",40),e.bIt("click",function(){return e.eBV(a),e.Njj(r.onAddBerthTextBox())}),e.j41(91,"mat-icon",41),e.EFF(92,"add"),e.k0s()()()(),e.j41(93,"div")(94,"div",42)(95,"mat-checkbox",43)(96,"span"),e.EFF(97),e.k0s()(),e.j41(98,"mat-checkbox",44)(99,"span"),e.EFF(100),e.k0s()(),e.j41(101,"mat-checkbox",45)(102,"span"),e.EFF(103),e.k0s()(),e.j41(104,"mat-checkbox",46)(105,"span"),e.EFF(106),e.k0s()()()()()(),e.j41(107,"mat-tab",19)(108,"div",47)(109,"div",21)(110,"mat-form-field")(111,"mat-label"),e.EFF(112),e.k0s(),e.j41(113,"input",48),e.bIt("blur",function(){return e.eBV(a),e.Njj(r.calculateVatAmountAndGrossAmountBasedOnNetAmount("netAmount",2))}),e.k0s(),e.DNE(114,Te,2,1,"mat-error",23),e.k0s(),e.j41(115,"mat-form-field")(116,"mat-label"),e.EFF(117),e.k0s(),e.j41(118,"input",49),e.bIt("blur",function(){return e.eBV(a),e.Njj(r.calculateNetAndGrossAmountBasedOnVatPercent("vatPercent",0))}),e.k0s(),e.DNE(119,Ce,2,1,"mat-error",23),e.k0s(),e.j41(120,"mat-form-field")(121,"mat-label"),e.EFF(122),e.k0s(),e.nrm(123,"input",50),e.DNE(124,ye,2,1,"mat-error",23),e.k0s(),e.j41(125,"mat-form-field")(126,"mat-label"),e.EFF(127),e.k0s(),e.j41(128,"input",51),e.bIt("blur",function(){return e.eBV(a),e.Njj(r.calculateNetAmountBasedOnGrossAmount("grossAmount",2))}),e.k0s(),e.DNE(129,je,2,1,"mat-error",23),e.k0s(),e.j41(130,"mat-form-field")(131,"mat-label"),e.EFF(132),e.k0s(),e.j41(133,"input",52,4),e.bIt("keydown",function(i){return e.eBV(a),e.Njj(r.enableOrDisableAutoComplete(i))})("keyup",function(i){return e.eBV(a),e.Njj(r.checkForEmptyAutoComplete(i))}),e.k0s(),e.j41(136,"div",25)(137,"button",26),e.bIt("click",function(){e.eBV(a);const i=e.sdS(135);return e.Njj(r.openOrCloseAutoComplete(i,"paymentStatus"))}),e.j41(138,"mat-icon",27),e.EFF(139,"expand_more"),e.k0s()()(),e.DNE(140,Se,2,1,"mat-error",23)(141,Ie,2,1,"mat-error",23),e.k0s()(),e.j41(142,"mat-form-field")(143,"mat-label"),e.EFF(144),e.k0s(),e.nrm(145,"textarea",53,5),e.j41(147,"mat-hint",54),e.EFF(148),e.k0s()(),e.j41(149,"div",42)(150,"mat-checkbox",55)(151,"span"),e.EFF(152),e.k0s()()()()(),e.j41(153,"mat-tab",19)(154,"div",56)(155,"div",21)(156,"mat-form-field")(157,"mat-label"),e.EFF(158),e.k0s(),e.nrm(159,"input",57),e.k0s(),e.j41(160,"mat-form-field")(161,"mat-label"),e.EFF(162),e.k0s(),e.nrm(163,"input",58),e.k0s(),e.j41(164,"mat-form-field")(165,"mat-label"),e.EFF(166),e.k0s(),e.nrm(167,"input",59)(168,"mat-datepicker-toggle",36)(169,"mat-datepicker",null,6),e.DNE(171,Ne,2,1,"mat-error",23),e.k0s()()()(),e.j41(172,"mat-tab",19)(173,"div",60)(174,"div",61)(175,"div",62)(176,"span",63),e.EFF(177,"Owner details"),e.k0s()(),e.j41(178,"mat-form-field")(179,"mat-label"),e.EFF(180),e.k0s(),e.nrm(181,"input",64),e.k0s(),e.j41(182,"mat-form-field")(183,"mat-label"),e.EFF(184),e.k0s(),e.nrm(185,"input",65),e.k0s(),e.j41(186,"div",21)(187,"mat-form-field")(188,"mat-label"),e.EFF(189),e.k0s(),e.nrm(190,"input",66),e.k0s(),e.j41(191,"mat-form-field")(192,"mat-label"),e.EFF(193),e.k0s(),e.nrm(194,"input",67),e.k0s()(),e.j41(195,"mat-form-field")(196,"mat-label"),e.EFF(197),e.k0s(),e.nrm(198,"input",68),e.k0s(),e.j41(199,"div",21)(200,"mat-form-field")(201,"mat-label"),e.EFF(202),e.k0s(),e.nrm(203,"input",69),e.k0s(),e.j41(204,"mat-form-field")(205,"mat-label"),e.EFF(206),e.k0s(),e.nrm(207,"input",70),e.k0s()()(),e.j41(208,"div",71)(209,"div",72)(210,"span",63),e.EFF(211,"Invoice details"),e.k0s(),e.j41(212,"span",73),e.bIt("click",function(){return e.eBV(a),e.Njj(r.copyOwnerToBilling())}),e.EFF(213,"Copy from owner"),e.k0s()(),e.j41(214,"mat-form-field")(215,"mat-label"),e.EFF(216),e.k0s(),e.nrm(217,"input",74),e.k0s(),e.j41(218,"mat-form-field")(219,"mat-label"),e.EFF(220),e.k0s(),e.nrm(221,"input",75),e.k0s(),e.j41(222,"div",21)(223,"mat-form-field")(224,"mat-label"),e.EFF(225),e.k0s(),e.nrm(226,"input",76),e.k0s(),e.j41(227,"mat-form-field")(228,"mat-label"),e.EFF(229),e.k0s(),e.nrm(230,"input",77),e.k0s()(),e.j41(231,"mat-form-field")(232,"mat-label"),e.EFF(233),e.k0s(),e.nrm(234,"input",78),e.k0s(),e.j41(235,"div",21)(236,"mat-form-field")(237,"mat-label"),e.EFF(238),e.k0s(),e.nrm(239,"input",79),e.k0s(),e.j41(240,"mat-form-field")(241,"mat-label"),e.EFF(242),e.k0s(),e.nrm(243,"input",80),e.k0s()()()()(),e.j41(244,"mat-tab",81)(245,"mat-form-field")(246,"mat-label"),e.EFF(247),e.k0s(),e.nrm(248,"textarea",82,5),e.j41(250,"mat-hint",54),e.EFF(251),e.k0s()()()(),e.j41(252,"div",83),e.nrm(253,"metadata-panel",84),e.k0s()()(),e.j41(254,"div",85)(255,"button",86)(256,"mat-icon",41),e.EFF(257,"more_vert"),e.k0s()(),e.j41(258,"mat-menu",87,7),e.DNE(260,Ee,1,0,"ng-container",88),e.k0s(),e.j41(261,"div",89),e.DNE(262,De,4,4,"button",90),e.j41(263,"button",91),e.bIt("click",function(){return e.eBV(a),e.Njj(r.onSave())}),e.DNE(264,Ae,2,0,"mat-icon",92),e.j41(265,"span"),e.EFF(266),e.nI1(267,"uppercase"),e.k0s()()()()(),e.j41(268,"mat-autocomplete",93,8),e.DNE(270,$e,2,2,"mat-option",94),e.nI1(271,"async"),e.k0s(),e.j41(272,"mat-autocomplete",93,9),e.DNE(274,we,2,2,"mat-option",94),e.nI1(275,"async"),e.k0s(),e.j41(276,"mat-autocomplete",93,10),e.DNE(278,Ge,2,2,"mat-option",94),e.nI1(279,"async"),e.k0s(),e.DNE(280,Le,3,1,"ng-template",95,11,e.C5r)}if(2&n){const a=e.sdS(77),p=e.sdS(85),i=e.sdS(146),u=e.sdS(170),f=e.sdS(259),b=e.sdS(269),v=e.sdS(273),S=e.sdS(277),I=e.sdS(281);e.R7$(3),e.Y8G("feature",r.feature)("featureIcon",r.featureIcon)("header",r.getNewOrEditHeader())("icon",r.icon)("parentUrl",r.parentUrl),e.R7$(),e.Y8G("ngIf",r.isNotNewRecord()),e.R7$(),e.Y8G("formGroup",r.form),e.R7$(2),e.FS9("label",r.getLabel("tab1")),e.R7$(5),e.JRh(r.getLabel("boatName")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(),e.Y8G("ngIf",r.boatName.hasError("required")),e.R7$(3),e.JRh(r.getLabel("boatType")),e.R7$(),e.Y8G("inputTabStop",i)("matAutocompleteDisabled",r.isAutoCompleteDisabled)("matAutocomplete",b),e.R7$(7),e.Y8G("ngIf",r.boatType.hasError("required")),e.R7$(),e.Y8G("ngIf",!r.boatType.hasError("required")&&r.boatType.hasError("incorrect")),e.R7$(3),e.JRh(r.getLabel("boatUsage")),e.R7$(),e.Y8G("inputTabStop",i)("matAutocompleteDisabled",r.isAutoCompleteDisabled)("matAutocomplete",v),e.R7$(7),e.Y8G("ngIf",r.boatUsage.hasError("required")),e.R7$(),e.Y8G("ngIf",!r.boatUsage.hasError("required")&&r.boatUsage.hasError("incorrect")),e.R7$(4),e.JRh(r.getLabel("length")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(),e.Y8G("ngIf",r.loa.hasError("required")),e.R7$(3),e.JRh(r.getLabel("beam")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(),e.Y8G("ngIf",r.beam.hasError("required")),e.R7$(3),e.JRh(r.getLabel("draft")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(),e.Y8G("ngIf",r.draft.hasError("required")),e.R7$(4),e.JRh(r.getLabel("flag")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(),e.Y8G("ngIf",r.flag.hasError("required")),e.R7$(3),e.JRh(r.getLabel("registryPort")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(),e.Y8G("ngIf",r.registryPort.hasError("required")),e.R7$(3),e.JRh(r.getLabel("registryNo")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(),e.Y8G("ngIf",r.registryNo.hasError("required")),e.R7$(3),e.JRh(r.getLabel("fromDate")),e.R7$(),e.Y8G("inputTabStop",i)("matDatepicker",a),e.R7$(),e.Y8G("for",a),e.R7$(3),e.Y8G("ngIf",r.fromDate.hasError("required")),e.R7$(3),e.JRh(r.getLabel("toDate")),e.R7$(),e.Y8G("inputTabStop",i)("matDatepicker",p),e.R7$(),e.Y8G("for",p),e.R7$(3),e.Y8G("ngIf",r.toDate.hasError("required")),e.R7$(3),e.Y8G("ngForOf",r.berthsArray),e.R7$(8),e.JRh(r.getLabel("isAthenian")),e.R7$(3),e.JRh(r.getLabel("isDocked")),e.R7$(3),e.JRh(r.getLabel("isFishingBoat")),e.R7$(3),e.JRh(r.getLabel("isDryDock")),e.R7$(),e.FS9("label",r.getLabel("tab2")),e.R7$(5),e.JRh(r.getLabel("netAmount")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(),e.Y8G("ngIf",r.netAmount.hasError("required")),e.R7$(3),e.JRh(r.getLabel("vatPercent")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(),e.Y8G("ngIf",r.vatPercent.hasError("required")),e.R7$(3),e.JRh(r.getLabel("vatAmount")),e.R7$(2),e.Y8G("ngIf",r.vatAmount.hasError("required")),e.R7$(3),e.JRh(r.getLabel("grossAmount")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(),e.Y8G("ngIf",r.grossAmount.hasError("required")),e.R7$(3),e.JRh(r.getLabel("paymentStatus")),e.R7$(),e.Y8G("inputTabStop",i)("matAutocompleteDisabled",r.isAutoCompleteDisabled)("matAutocomplete",S),e.R7$(7),e.Y8G("ngIf",r.paymentStatus.hasError("required")),e.R7$(),e.Y8G("ngIf",!r.paymentStatus.hasError("required")&&r.paymentStatus.hasError("incorrect")),e.R7$(3),e.JRh(r.getLabel("remarks")),e.R7$(4),e.JRh(r.getHint("remainingCharacters",+i.getAttribute("maxlength")-r.getFinancialRemarksLength())),e.R7$(4),e.JRh(r.getLabel("isCash")),e.R7$(),e.FS9("label",r.getLabel("tab3")),e.R7$(5),e.JRh(r.getLabel("insuranceCompany")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(3),e.JRh(r.getLabel("policyNo")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(3),e.JRh(r.getLabel("policyEnds")),e.R7$(),e.Y8G("inputTabStop",i)("matDatepicker",u),e.R7$(),e.Y8G("for",u),e.R7$(3),e.Y8G("ngIf",r.fromDate.hasError("required")),e.R7$(),e.FS9("label",r.getLabel("tab4")),e.R7$(8),e.JRh(r.getLabel("owner")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(3),e.JRh(r.getLabel("address")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(4),e.JRh(r.getLabel("taxNo")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(3),e.JRh(r.getLabel("taxOffice")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(3),e.JRh(r.getLabel("passportNo")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(4),e.JRh(r.getLabel("phones")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(3),e.JRh(r.getLabel("email")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(9),e.JRh(r.getLabel("owner")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(3),e.JRh(r.getLabel("address")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(4),e.JRh(r.getLabel("taxNo")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(3),e.JRh(r.getLabel("taxOffice")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(3),e.JRh(r.getLabel("passportNo")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(4),e.JRh(r.getLabel("phones")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(3),e.JRh(r.getLabel("email")),e.R7$(),e.Y8G("inputTabStop",i),e.R7$(),e.FS9("label",r.getLabel("tab5")),e.R7$(3),e.JRh(r.getLabel("remarks")),e.R7$(4),e.JRh(r.getHint("remainingCharacters",+i.getAttribute("maxlength")-r.getRemarksLength())),e.R7$(2),e.Y8G("feature",r.feature)("postAt",r.form.value.postAt)("postUser",r.form.value.postUser)("putAt",r.form.value.putAt)("putUser",r.form.value.putUser),e.R7$(2),e.Y8G("matMenuTriggerFor",f),e.R7$(5),e.Y8G("ngTemplateOutlet",I),e.R7$(2),e.Y8G("ngIf",""!=r.form.value.reservationId),e.R7$(),e.Y8G("disabled",!r.form.valid||!r.isAdmin()),e.R7$(),e.Y8G("ngIf",!r.form.valid),e.R7$(2),e.JRh(e.bMT(267,136,r.getLabel("saveButton"))),e.R7$(2),e.Y8G("displayWith",r.autocompleteFields.bind(r,"description")),e.R7$(2),e.Y8G("ngForOf",e.bMT(271,138,r.dropdownBoatTypes)),e.R7$(2),e.Y8G("displayWith",r.autocompleteFields.bind(r,"description")),e.R7$(2),e.Y8G("ngForOf",e.bMT(275,140,r.dropdownBoatUsages)),e.R7$(2),e.Y8G("displayWith",r.autocompleteFields.bind(r,"description")),e.R7$(2),e.Y8G("ngForOf",e.bMT(279,142,r.dropdownPaymentStatuses))}},dependencies:[d.YU,d.Sq,d.bT,d.T3,l.qT,l.me,l.BC,l.cb,J.K,te.i,re.B,Y.$3,D.wT,Y.pN,C.$z,C.iY,oe.So,y.Vh,y.bZ,y.bU,h.rl,h.nJ,h.MV,h.TL,h.yw,M.An,ne.fg,j.kk,j.fb,j.Cp,U.mq,U.T8,ie.j,ae.kU,l.j4,l.JD,l.$R,l.v8,d.Jj,d.Pc],styles:["[_nghost-%COMP%]{width:100%}#form-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}#content[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(6.5px);backdrop-filter:blur(6.5px);background-color:var(--color-background);border-radius:1rem;border:.0625rem solid color-mix(in srgb,var(--color-border) 50%,transparent);display:flex;flex-direction:column;gap:.9375rem;height:100%;overflow-y:hidden;padding:1rem 1.6rem 1rem 2rem;transition:background-color var(--theme-delay)}#form[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;margin:0 auto;overflow-y:hidden;width:80%}#header[_ngcontent-%COMP%]{align-items:center;display:flex;margin:0 auto;width:80%}#footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;justify-content:right;padding:.875rem 2rem}#align-right[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin:0 0 0 auto}.group-input-field[_ngcontent-%COMP%]{display:flex;gap:.5rem}.checkboxes[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:0 0 0 1rem}.align-bottom[_ngcontent-%COMP%]{margin-top:auto!important}","[_nghost-%COMP%]{height:100%}.group-input-field[_ngcontent-%COMP%]:last-child{margin-top:auto}#add-berth-button[_ngcontent-%COMP%]{background-color:var(--color-button-secondary);border-radius:1rem;color:var(--color-button-text);height:1.5625rem;margin:.9375rem 0 0;width:1.5625rem}#textarea[_ngcontent-%COMP%]{height:10rem;margin-top:.5rem;margin-bottom:1rem;resize:none}#tab-content[_ngcontent-%COMP%]{column-gap:1rem;display:flex}#ownwer-tab[_ngcontent-%COMP%], #billing-tab[_ngcontent-%COMP%]{width:100%}#tab-content[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--color-button-primary);display:flex;font-family:var(--font-family-fahkwang);font-size:.875rem;font-weight:600;padding:0 0 1rem 1rem}#owner-tab-header[_ngcontent-%COMP%]{padding:0 0 3px}#billing-tab-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}#copy-owner-to-billing[_ngcontent-%COMP%]{color:var(--color-button-secondary)!important;margin-top:-.6875rem;padding:.5rem 1rem!important}#copy-owner-to-billing[_ngcontent-%COMP%]:hover{cursor:pointer}#boat-name[_ngcontent-%COMP%]{align-items:center;color:#466dab;display:flex;font-family:var(--font-family-fahkwang);font-size:1rem;font-weight:600;margin-left:auto;margin-right:1rem;margin-top:.25rem;transform:scaleY(1.4)}"]})}}return o})();var V=s(9437),H=s(7673),z=s(668);let Be=(()=>{class o{constructor(t){this.reservationHttpService=t}resolve(t){return this.reservationHttpService.getSingle(t.params.id).pipe((0,F.T)(n=>new z.T(n)),(0,V.W)(n=>(0,H.of)(new z.T(null,n))))}static{this.\u0275fac=function(n){return new(n||o)(e.KVO(T))}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var Pe=s(5779),xe=s(405),Oe=s(8676),g=s(8520),Je=s(4435);const Ye=["table"];function Me(o,m){if(1&o&&(e.j41(0,"div",55)(1,"span"),e.EFF(2),e.k0s()()),2&o){const t=m.$implicit;e.R7$(2),e.JRh(t.description)}}function Ue(o,m){if(1&o){const t=e.RV6();e.j41(0,"p-multiSelect",53),e.bIt("onChange",function(r){const a=e.eBV(t).filterCallback;return e.Njj(a(r.value))}),e.DNE(1,Me,3,1,"ng-template",54),e.k0s()}if(2&o){const t=m.$implicit,n=e.XpG(2);e.Y8G("ngModel",t)("options",n.distinctPaymentStatuses)("placeholder",n.getEmoji("wildcard"))}}function Xe(o,m){if(1&o){const t=e.RV6();e.j41(0,"tr"),e.nrm(1,"th",21),e.j41(2,"th",22),e.EFF(3),e.k0s(),e.j41(4,"th",23),e.EFF(5),e.k0s(),e.j41(6,"th",24),e.EFF(7),e.k0s(),e.j41(8,"th",25),e.EFF(9),e.k0s(),e.j41(10,"th",26),e.EFF(11),e.k0s(),e.j41(12,"th",27),e.EFF(13),e.k0s(),e.j41(14,"th",28),e.EFF(15),e.k0s(),e.j41(16,"th",29),e.EFF(17),e.k0s(),e.j41(18,"th",30),e.EFF(19),e.k0s(),e.j41(20,"th",31),e.EFF(21),e.k0s(),e.j41(22,"th",32),e.EFF(23),e.k0s(),e.j41(24,"th",33),e.EFF(25),e.k0s(),e.nrm(26,"th",34),e.k0s(),e.j41(27,"tr")(28,"th",35),e.nrm(29,"p-tableHeaderCheckbox"),e.k0s(),e.j41(30,"th",36)(31,"p-columnFilter",37),e.bIt("input",function(r){e.eBV(t);const a=e.XpG();return e.Njj(a.onFilter(r.target.value,"boatName","contains"))}),e.k0s()(),e.j41(32,"th",36)(33,"p-columnFilter",38),e.bIt("input",function(r){e.eBV(t);const a=e.XpG();return e.Njj(a.onFilter(r.target.value,"ownerName","contains"))}),e.k0s()(),e.j41(34,"th",39)(35,"p-columnFilter",40),e.bIt("input",function(r){e.eBV(t);const a=e.XpG();return e.Njj(a.onFilter(r.target.value,"boatLoa","contains"))}),e.k0s()(),e.j41(36,"th",39)(37,"p-columnFilter",41),e.bIt("input",function(r){e.eBV(t);const a=e.XpG();return e.Njj(a.onFilter(r.target.value,"fromDate","contains"))}),e.k0s()(),e.j41(38,"th",39)(39,"p-columnFilter",42),e.bIt("input",function(r){e.eBV(t);const a=e.XpG();return e.Njj(a.onFilter(r.target.value,"toDate","contains"))}),e.k0s()(),e.j41(40,"th",43)(41,"p-columnFilter",44),e.bIt("input",function(r){e.eBV(t);const a=e.XpG();return e.Njj(a.onFilter(r.target.value,"joinedBerths","contains"))}),e.k0s()(),e.j41(42,"th",43)(43,"p-columnFilter",45),e.DNE(44,Ue,2,3,"ng-template",46),e.k0s()(),e.j41(45,"th",43),e.nrm(46,"p-columnFilter",47),e.k0s(),e.j41(47,"th",43),e.nrm(48,"p-columnFilter",48),e.k0s(),e.j41(49,"th",43),e.nrm(50,"p-columnFilter",49),e.k0s(),e.j41(51,"th",43),e.nrm(52,"p-columnFilter",50),e.k0s(),e.j41(53,"th",43),e.nrm(54,"p-columnFilter",51),e.k0s(),e.nrm(55,"th",52),e.k0s()}if(2&o){const t=e.XpG();e.R7$(3),e.JRh(t.getLabel("headerBoatName")),e.R7$(2),e.JRh(t.getLabel("headerCustomer")),e.R7$(2),e.JRh(t.getLabel("headerLength")),e.R7$(2),e.JRh(t.getLabel("headerFromDate")),e.R7$(2),e.JRh(t.getLabel("headerToDate")),e.R7$(2),e.JRh(t.getLabel("headerBerths")),e.R7$(2),e.JRh(t.getLabel("headerPaymentStatus")),e.R7$(2),e.JRh(t.getLabel("headerIsAthenian")),e.R7$(2),e.JRh(t.getLabel("headerIsOverdue")),e.R7$(2),e.JRh(t.getLabel("headerIsDocked")),e.R7$(2),e.JRh(t.getLabel("headerIsDryDock")),e.R7$(2),e.JRh(t.getLabel("headerIsFishingBoat")),e.R7$(18),e.Y8G("showMenu",!1)}}function Ve(o,m){if(1&o){const t=e.RV6();e.j41(0,"tr",56),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.onHighlightRow(r.reservationId))})("dblclick",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.onEditRecord(r.reservationId))}),e.j41(1,"td",57)(2,"span",58),e.nrm(3,"p-tableCheckbox",59),e.k0s()(),e.j41(4,"td",60)(5,"span"),e.EFF(6),e.k0s()(),e.j41(7,"td",60)(8,"span"),e.EFF(9),e.k0s()(),e.j41(10,"td",61)(11,"span",62),e.EFF(12),e.k0s()(),e.j41(13,"td",61)(14,"span",63),e.EFF(15),e.k0s()(),e.j41(16,"td",61)(17,"span",63),e.EFF(18),e.k0s()(),e.j41(19,"td",64)(20,"span",62),e.EFF(21),e.k0s()(),e.j41(22,"td",64)(23,"span",65),e.EFF(24),e.k0s()(),e.j41(25,"td",64)(26,"span",66),e.EFF(27),e.k0s()(),e.j41(28,"td",64)(29,"span",66),e.EFF(30),e.k0s()(),e.j41(31,"td",64)(32,"span",66),e.EFF(33),e.k0s()(),e.j41(34,"td",64)(35,"span",66),e.EFF(36),e.k0s()(),e.j41(37,"td",64)(38,"span",66),e.EFF(39),e.k0s()(),e.j41(40,"td",67)(41,"span",68),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.onEditRecord(r.reservationId))}),e.j41(42,"mat-icon",69),e.EFF(43,"more_horiz"),e.k0s()()()()}if(2&o){const t=m.$implicit,n=e.XpG();e.BMQ("id",t.reservationId),e.R7$(3),e.Y8G("value",t),e.R7$(3),e.JRh(t.boatName),e.R7$(3),e.JRh(t.ownerName),e.R7$(3),e.JRh(t.boatLoa),e.R7$(3),e.JRh(n.formatDateToLocale(t.fromDate,!1,!0)),e.R7$(3),e.JRh(n.formatDateToLocale(t.toDate,!1,!0)),e.R7$(3),e.JRh(t.joinedBerths),e.R7$(2),e.Y8G("ngClass",n.getPaymentDescriptionColor(t.paymentStatus.description)),e.R7$(),e.JRh(t.paymentStatus.description),e.R7$(3),e.JRh(n.getOverdueDescription(t.isAthenian)),e.R7$(3),e.JRh(n.getOverdueDescription(t.isOverdue)),e.R7$(3),e.JRh(n.getOverdueDescription(t.isDocked)),e.R7$(3),e.JRh(n.getOverdueDescription(t.isDryDock)),e.R7$(3),e.JRh(n.getOverdueDescription(t.isFishingBoat))}}let He=(()=>{class o{constructor(t,n,r,a,p,i,u,f,b,v){this.activatedRoute=t,this.cryptoService=n,this.dateHelperService=r,this.dialogService=a,this.emojiService=p,this.helperService=i,this.messageDialogService=u,this.messageLabelService=f,this.router=b,this.sessionStorageService=v,this.url="reservations",this.feature="reservationList",this.featureIcon="reservations",this.icon="home",this.parentUrl="/home",this.records=[],this.recordsFilteredCount=0,this.filterDate="",this.selectedRecords=[],this.distinctPaymentStatuses=[],this.occupied=0,this.dryDock=0,this.fishingBoats=0,this.athenian=0}ngOnInit(){this.loadRecords(),this.filterOccupied(),this.filterDryDock(),this.filterFishingBoats(),this.filterAthenian(),this.populateDropdownFilters(),this.stringifyBerths(),this.filterTableFromStoredFilters(),this.setTabTitle(),this.doVirtualTableTasks(),this.setSidebarsHeight()}ngAfterViewInit(){setTimeout(()=>{this.getVirtualElement(),this.scrollToSavedPosition(),this.hightlightSavedRow(),this.enableDisableFilters()},500)}formatDateToLocale(t,n=!1,r=!1,a=!1){return a&&"2199-12-31"==t?"":this.dateHelperService.formatISODateToLocale(t,n,r)}getEmoji(t){return this.emojiService.getEmoji("string"==typeof t?t:t?"green-box":"red-box")}getWarningEmoji(t){return t?this.emojiService.getEmoji("warning"):""}getLabel(t){return this.messageLabelService.getDescription(this.feature,t)}getKnobBackgroundColor(){return"LightSlateGray"}getOverdueDescription(t){return t?"YES":""}getPaymentDescriptionColor(t){switch(t){case"NONE":return"red";case"PARTIAL":return"yellow";case"FULL":return"green"}}hasDateFilter(){return""==this.filterDate?"hidden":""}isAdmin(){return"true"==this.cryptoService.decrypt(this.sessionStorageService.getItem("isAdmin"))}onEditRecord(t){this.storeScrollTop(),this.storeSelectedId(t),this.navigateToRecord(t)}onFilter(t,n,r){t&&this.table.filter(t,n,r)}onFilterRecords(t){this.sessionStorageService.saveItem(this.feature+"-filters",JSON.stringify(this.table.filters)),this.recordsFilteredCount=t.filteredValue.length}onHighlightRow(t){this.helperService.highlightRow(t)}onNewRecord(){this.router.navigate([this.url+"/new"])}onResetTableFilters(){this.helperService.clearTableTextFilters(this.table,["description","email","phones"])}doVirtualTableTasks(){setTimeout(()=>{this.getVirtualElement(),this.scrollToSavedPosition(),this.hightlightSavedRow()},1e3)}enableDisableFilters(){0==this.records.length?this.helperService.disableTableFilters():this.helperService.enableTableFilters()}filterColumn(t,n,r){null!=t&&(null!=t.value||null!=t.value)&&this.table.filter(t.value,n,r)}filterTableFromStoredFilters(){const t=this.sessionStorageService.getFilters(this.feature+"-filters");null!=t&&setTimeout(()=>{this.filterColumn(t.boatName,"boatName","contains"),this.filterColumn(t.ownerName,"ownerName","contains"),this.filterColumn(t.boatLoa,"boatLoa","contains"),this.filterColumn(t.fromDate,"fromDate","contains"),this.filterColumn(t.toDate,"toDate","contains"),this.filterColumn(t.joinedBerths,"joinedBerths","contains"),this.filterColumn(t.paymentStatus,"paymentStatus","in"),this.filterColumn(t.isAthenian,"isAthenian","contains"),this.filterColumn(t.isOverdue,"isOverdue","contains"),this.filterColumn(t.isDocked,"isDocked","contains"),this.filterColumn(t.isCash,"isCash","contains")},1e3)}filterOccupied(){this.occupied=this.records.filter(t=>t.isDocked).length}filterDryDock(){this.dryDock=this.records.filter(t=>t.isDryDock).length}filterFishingBoats(){this.fishingBoats=this.records.filter(t=>t.isFishingBoat).length}filterAthenian(){this.athenian=this.records.filter(t=>t.isAthenian).length}getVirtualElement(){this.virtualElement=document.getElementsByClassName("p-scroller-inline")[0]}goBack(){this.router.navigate([this.parentUrl])}hightlightSavedRow(){this.helperService.highlightSavedRow(this.feature)}stringifyBerths(){this.records.forEach(t=>{const n=t.berths.map(r=>r.description).join(", ");t.joinedBerths=n})}loadRecords(){return new Promise(t=>{const n=this.activatedRoute.snapshot.data[this.feature];null==n.error?(this.records=n.list,this.recordsFilteredCount=this.records.length,t(this.records)):this.dialogService.open(this.messageDialogService.filterResponse(n.error),"error",["ok"]).subscribe(()=>{this.goBack()})})}navigateToRecord(t){this.router.navigate([this.url,t])}populateDropdownFilters(){this.distinctPaymentStatuses=this.helperService.getDistinctRecords(this.records,"paymentStatus","description")}scrollToSavedPosition(){this.helperService.scrollToSavedPosition(this.virtualElement,this.feature)}setSidebarsHeight(){this.helperService.setSidebarsTopMargin("0")}setTabTitle(){this.helperService.setTabTitle(this.feature)}storeSelectedId(t){this.sessionStorageService.saveItem(this.feature+"-id",t)}storeScrollTop(){this.sessionStorageService.saveItem(this.feature+"-scrollTop",this.virtualElement.scrollTop)}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(c.nX),e.rXU(E.j),e.rXU(A.c),e.rXU($.o),e.rXU(w.E),e.rXU(G.wT),e.rXU(P.$),e.rXU(x.F),e.rXU(c.Ix),e.rXU(O.R))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["reservation-list"]],viewQuery:function(n,r){if(1&n&&e.GBs(Ye,5),2&n){let a;e.mGM(a=e.lsd())&&(r.table=a.first)}},decls:33,vars:37,consts:[["table",""],["id","list-wrapper"],["id","content"],["id","header"],[3,"featureIcon","feature","icon","parentUrl"],["id","knobs-and-table"],["id","knobs"],[1,"knob"],[1,"label"],["textColor","var(--color-text)","valueColor","#e3283a",3,"ngModelChange","ngModel","disabled","rangeColor","size","strokeWidth"],["textColor","var(--color-text)","valueColor","#f3bf08",3,"ngModelChange","ngModel","disabled","rangeColor","size","strokeWidth"],["textColor","var(--color-text)","valueColor","#00ff80",3,"ngModelChange","ngModel","disabled","rangeColor","size","strokeWidth"],["textColor","var(--color-text)","valueColor","#80c9ff",3,"ngModelChange","ngModel","disabled","rangeColor","size","strokeWidth"],["id","table-wrapper"],["dataKey","reservationId","scrollHeight","flex","selectionMode","single","sortMode","multiple",3,"onFilter","selectionChange","selection","scrollable","value","virtualScrollItemSize","virtualScroll"],["pTemplate","header"],["pTemplate","body"],["id","footer"],[3,"resetTableFilters","filteredRecordCount","mustShowSelectedFilteredCount","recordCount","selectedRecordCount"],["id","align-right"],["mat-flat-button","",1,"primary",3,"click","disabled"],[1,"no-border-bottom","width-3"],["pSortableColumn","boatName",1,"no-border-bottom","width-10"],["pSortableColumn","ownerName",1,"no-border-bottom","width-10"],["pSortableColumn","boatLoa",1,"no-border-bottom","width-5"],["pSortableColumn","fromDate",1,"no-border-bottom","width-5"],["pSortableColumn","toDate",1,"no-border-bottom","width-5"],["pSortableColumn","joinedBerths",1,"no-border-bottom","width-6"],["pSortableColumn","paymentStatus.description",1,"no-border-bottom","width-6"],["pSortableColumn","isAthenian",1,"no-border-bottom","width-6"],["pSortableColumn","isOverdue",1,"no-border-bottom","width-6"],["pSortableColumn","isDocked",1,"no-border-bottom","width-6"],["pSortableColumn","isDryDock",1,"no-border-bottom","width-6"],["pSortableColumn","isFishingBoat",1,"no-border-bottom","width-6"],[1,"no-border-bottom","width-4"],[1,"no-border-top","width-3"],[1,"no-border-top","width-10"],["field","boatName",3,"input"],["field","ownerName",3,"input"],[1,"no-border-top","width-5"],["field","boatLoa",3,"input"],["field","fromDate",3,"input"],["field","toDate",3,"input"],[1,"no-border-top","width-6"],["field","joinedBerths",3,"input"],["field","paymentStatus","matchMode","in",3,"showMenu"],["pTemplate","filter"],["field","isAthenian","type","boolean"],["field","isOverdue","type","boolean"],["field","isDocked","type","boolean"],["field","isDryDock","type","boolean"],["field","isFishingBoat","type","boolean"],[1,"no-border-top","width-4"],["optionLabel","description",3,"onChange","ngModel","options","placeholder"],["pTemplate","item"],[1,"p-multiselect-option"],[2,"height","32px",3,"click","dblclick"],[1,"width-3"],[1,"center","no-overflow",2,"padding-right","0 !important","padding-top","0.25rem !important"],[3,"value"],[1,"width-10"],[1,"width-5"],[1,"center"],[1,"center","no-overflow"],[1,"width-6"],[1,"center","no-left-padding","no-overflow",2,"font-size","0.5rem","padding-top","0 !important",3,"ngClass"],[1,"center","no-left-padding","no-overflow","red",2,"font-size","0.75rem","padding-top","0 !important"],[1,"width-4"],[1,"center",3,"click"],[1,"material-icons-outlined","small-icon"]],template:function(n,r){if(1&n){const a=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3),e.nrm(3,"home-button-and-title",4),e.k0s(),e.j41(4,"div",5)(5,"div",6)(6,"div",7)(7,"span",8),e.EFF(8,"Occupied"),e.k0s(),e.j41(9,"p-knob",9),e.mxI("ngModelChange",function(i){return e.eBV(a),e.DH7(r.occupied,i)||(r.occupied=i),e.Njj(i)}),e.k0s()(),e.j41(10,"div",7)(11,"span",8),e.EFF(12,"Dry dock"),e.k0s(),e.j41(13,"p-knob",10),e.mxI("ngModelChange",function(i){return e.eBV(a),e.DH7(r.dryDock,i)||(r.dryDock=i),e.Njj(i)}),e.k0s()(),e.j41(14,"div",7)(15,"span",8),e.EFF(16,"Fishing boats"),e.k0s(),e.j41(17,"p-knob",11),e.mxI("ngModelChange",function(i){return e.eBV(a),e.DH7(r.fishingBoats,i)||(r.fishingBoats=i),e.Njj(i)}),e.k0s()(),e.j41(18,"div",7)(19,"span",8),e.EFF(20,"Athenian"),e.k0s(),e.j41(21,"p-knob",12),e.mxI("ngModelChange",function(i){return e.eBV(a),e.DH7(r.athenian,i)||(r.athenian=i),e.Njj(i)}),e.k0s()()(),e.j41(22,"div",13)(23,"p-table",14,0),e.bIt("onFilter",function(i){return e.eBV(a),e.Njj(r.onFilterRecords(i))}),e.mxI("selectionChange",function(i){return e.eBV(a),e.DH7(r.selectedRecords,i)||(r.selectedRecords=i),e.Njj(i)}),e.DNE(25,Xe,56,13,"ng-template",15)(26,Ve,44,15,"ng-template",16),e.k0s()()()(),e.j41(27,"div",17)(28,"table-total-filtered-records",18),e.bIt("resetTableFilters",function(){return e.eBV(a),e.Njj(r.onResetTableFilters())}),e.k0s(),e.j41(29,"div",19)(30,"button",20),e.bIt("click",function(){return e.eBV(a),e.Njj(r.onNewRecord())}),e.EFF(31),e.nI1(32,"uppercase"),e.k0s()()()()}2&n&&(e.R7$(3),e.Y8G("featureIcon",r.featureIcon)("feature",r.feature)("icon",r.icon)("parentUrl",r.parentUrl),e.R7$(6),e.R50("ngModel",r.occupied),e.Y8G("disabled",!0)("rangeColor",r.getKnobBackgroundColor())("size",80)("strokeWidth",10),e.R7$(4),e.R50("ngModel",r.dryDock),e.Y8G("disabled",!0)("rangeColor",r.getKnobBackgroundColor())("size",80)("strokeWidth",10),e.R7$(4),e.R50("ngModel",r.fishingBoats),e.Y8G("disabled",!0)("rangeColor",r.getKnobBackgroundColor())("size",80)("strokeWidth",10),e.R7$(4),e.R50("ngModel",r.athenian),e.Y8G("disabled",!0)("rangeColor",r.getKnobBackgroundColor())("size",80)("strokeWidth",10),e.R7$(2),e.R50("selection",r.selectedRecords),e.Y8G("scrollable",!0)("value",r.records)("virtualScrollItemSize",32)("virtualScroll",!0),e.R7$(5),e.Y8G("filteredRecordCount",r.recordsFilteredCount)("mustShowSelectedFilteredCount",!0)("recordCount",r.records.length)("selectedRecordCount",r.selectedRecords.length),e.R7$(2),e.Y8G("disabled",!r.isAdmin()),e.R7$(),e.JRh(e.bMT(32,35,r.getLabel("newRecord"))))},dependencies:[d.YU,l.BC,l.vS,J.K,C.$z,M.An,Pe.Ei,xe.N6,Oe.KF,g.XI,g.Tg,g.S9,g.nA,g.rl,Je.j,d.Pc],styles:["#list-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}#content[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(6.5px);backdrop-filter:blur(6.5px);background-color:var(--color-background);border-radius:1rem;border:.0625rem solid color-mix(in srgb,var(--color-border) 50%,transparent);display:flex;flex-direction:column;gap:.9375rem;height:100%;margin:0 auto;overflow-y:hidden;padding:1rem 1.6rem 1rem 2rem;transition:background-color var(--theme-delay);width:100%}#header[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;justify-content:space-between;margin:0 2rem 0 0}#table-wrapper[_ngcontent-%COMP%]{height:100%;width:100%}#footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;justify-content:right;padding:.875rem 2rem}#align-right[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-left:auto}",".green[_ngcontent-%COMP%]{color:#39a4d9;font-size:.6875rem!important}.yellow[_ngcontent-%COMP%]{color:#afaf02;font-size:.6875rem!important}.red[_ngcontent-%COMP%]{color:#fb5e5e;font-size:.6875rem!important}.small-icon[_ngcontent-%COMP%]{font-size:1rem;padding:.25rem 0 0}#knobs-and-table[_ngcontent-%COMP%]{column-gap:2rem;display:flex;flex-direction:row;height:100%}#knobs[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;row-gap:.5rem}.knob[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center}.knob[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--color-text);font-family:var(--font-family-fahkwang);font-size:.75rem;text-align:center;transition:all var(--theme-delay)}"]})}}return o})();var W=s(1338);const We=[{path:"",component:He,canActivate:[R.r],resolve:{reservationList:(()=>{class o{constructor(t){this.reservationHttpService=t}resolve(){return this.reservationHttpService.getAll().pipe((0,F.T)(t=>new W.X(t)),(0,V.W)(t=>(0,H.of)(new W.X(null,t))))}static{this.\u0275fac=function(n){return new(n||o)(e.KVO(T))}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})()}},{path:"new",component:X,canActivate:[R.r]},{path:":id",component:X,canActivate:[R.r],resolve:{reservationForm:Be}}];let qe=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[c.iI.forChild(We),c.iI]})}}return o})();var Ke=s(8330);let Ze=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[Ke.G,qe]})}}return o})()}}]);