"use strict";(self.webpackChunkFrontEnd=self.webpackChunkFrontEnd||[]).push([[919],{7919:(Ze,G,s)=>{s.r(G),s.d(G,{UserModule:()=>ze});var O=s(8330),h=s(33),F=s(2676),a=s(9417),d=s(8477),e=s(4438),J=s(5330),b=s(5018),E=s(1572),R=s(9790),S=s(7028),U=s(3874),C=s(8934),p=s(177),_=s(4433),j=s(285),T=s(1168),g=s(8834),u=s(882),y=s(9213),I=s(9631);function Y(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function B(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function H(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("spacesNotAllowed"))}}function V(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("doesNotContainUpperCase"))}}function z(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("doesNotContainLowerCase"))}}function K(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("doesNotContainSymbol"))}}function W(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("doesNotContainDigits"))}}function Q(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("minLength",t.password.errors.minlength.requiredLength))}}function q(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("maxLength",t.password.errors.maxlength.requiredLength))}}function Z(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function ee(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("passwordsNoMatch"))}}function te(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI("",t.getHint("invalid"),"!")}}function re(i,l){1&i&&(e.j41(0,"mat-icon",17),e.EFF(1,"lock"),e.k0s())}let ie=(()=>{class i{constructor(t,o,r,n,m,c,f,v,P){this.accountService=t,this.activatedRoute=o,this.dialogService=r,this.emojiService=n,this.formBuilder=m,this.helperService=c,this.messageDialogService=f,this.messageHintService=v,this.messageLabelService=P,this.feature="changePasswordForm",this.featureIcon="password",this.icon="arrow_back",this.parentUrl="/users",this.confirmValidParentMatcher=new d.V,this.hidePassword=!0}ngOnInit(){this.initForm(),this.doPostInitTasks()}ngAfterViewInit(){this.focusOnField()}getEmoji(t){return this.emojiService.getEmoji(t)}getHint(t,o=0){return this.messageHintService.getDescription(t,o)}getLabel(t){return this.messageLabelService.getDescription(this.feature,t)}onSave(){this.saveRecord(this.flattenForm())}doPostInitTasks(){this.activatedRoute.params.subscribe(t=>{this.form.patchValue({userId:t.id}),this.parentUrl=this.parentUrl+"/"+t.id})}flattenForm(){return{userId:this.form.value.userId,currentPassword:this.form.value.currentPassword,password:this.form.value.passwords.password,confirmPassword:this.form.value.passwords.confirmPassword}}focusOnField(){this.helperService.focusOnField()}initForm(){this.form=this.formBuilder.group({userId:this.userId,currentPassword:["",[a.k0.required]],passwords:this.formBuilder.group({password:["",[a.k0.required,a.k0.minLength(10),a.k0.maxLength(128),d.B.containsSpace,d.B.doesNotContainUpperCase,d.B.doesNotContainLowerCase,d.B.doesNotContainSymbol,d.B.doesNotContainDigits]],confirmPassword:["",[a.k0.required]]},{validator:d.B.childrenEqual})})}saveRecord(t){this.accountService.changePassword(t).subscribe({complete:()=>{this.helperService.doPostSaveFormTasks(this.messageDialogService.success(),"ok","",!0).then(()=>{this.accountService.logout()})},error:o=>{this.dialogService.open(this.messageDialogService.filterResponse(o),"error",["ok"])}})}get currentPassword(){return this.form.get("currentPassword")}get passwords(){return this.form.get("passwords")}get password(){return this.form.get("passwords.password")}get confirmPassword(){return this.form.get("passwords.confirmPassword")}get matchingPasswords(){return this.form.get("passwords.password").value==this.form.get("passwords.confirmPassword").value}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(J.D),e.rXU(h.nX),e.rXU(b.o),e.rXU(E.E),e.rXU(a.ok),e.rXU(R.wT),e.rXU(S.$),e.rXU(U.S),e.rXU(C.F))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["change-password-form"]],decls:49,vars:35,consts:[["id","form-wrapper"],["id","content"],["id","header"],[3,"feature","featureIcon","icon","parentUrl"],["id","form",3,"formGroup"],["dataTabIndex","1","formControlName","currentPassword","matInput","",3,"inputTabStop","type"],["matSuffix","",2,"display","flex"],["mat-icon-button","","type","button",3,"click"],[1,"input-suffix","material-icons-outlined","extra-top-margin","small"],[4,"ngIf"],["formGroupName","passwords","id","passwords"],["dataTabIndex","2","formControlName","password","matInput","",3,"inputTabStop","type"],["dataTabIndex","3","formControlName","confirmPassword","matInput","",3,"errorStateMatcher","inputTabStop","type"],["id","footer"],["id","align-right"],["mat-flat-button","",1,"primary",3,"click","disabled"],["class","material-icons-outlined",4,"ngIf"],[1,"material-icons-outlined"]],template:function(o,r){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"home-button-and-title",3),e.k0s(),e.j41(4,"form",4)(5,"mat-form-field")(6,"mat-label"),e.EFF(7),e.k0s(),e.nrm(8,"input",5),e.j41(9,"div",6)(10,"button",7),e.bIt("click",function(){return r.hidePassword=!r.hidePassword}),e.j41(11,"mat-icon",8),e.EFF(12),e.k0s()()(),e.DNE(13,Y,2,1,"mat-error",9),e.k0s(),e.j41(14,"div",10)(15,"mat-form-field")(16,"mat-label"),e.EFF(17),e.k0s(),e.nrm(18,"input",11),e.j41(19,"div",6)(20,"button",7),e.bIt("click",function(){return r.hidePassword=!r.hidePassword}),e.j41(21,"mat-icon",8),e.EFF(22),e.k0s()()(),e.DNE(23,B,2,1,"mat-error",9)(24,H,2,1,"mat-error",9)(25,V,2,1,"mat-error",9)(26,z,2,1,"mat-error",9)(27,K,2,1,"mat-error",9)(28,W,2,1,"mat-error",9)(29,Q,2,1,"mat-error",9)(30,q,2,1,"mat-error",9),e.k0s(),e.j41(31,"mat-form-field")(32,"mat-label"),e.EFF(33),e.k0s(),e.nrm(34,"input",12),e.j41(35,"div",6)(36,"button",7),e.bIt("click",function(){return r.hidePassword=!r.hidePassword}),e.j41(37,"mat-icon",8),e.EFF(38),e.k0s()()(),e.DNE(39,Z,2,1,"mat-error",9)(40,ee,2,1,"mat-error",9)(41,te,2,1,"mat-error",9),e.k0s()()()(),e.j41(42,"div",13)(43,"div",14)(44,"button",15),e.bIt("click",function(){return r.onSave()}),e.DNE(45,re,2,0,"mat-icon",16),e.j41(46,"span"),e.EFF(47),e.nI1(48,"uppercase"),e.k0s()()()()()),2&o&&(e.R7$(3),e.Y8G("feature",r.feature)("featureIcon",r.featureIcon)("icon",r.icon)("parentUrl",r.parentUrl),e.R7$(),e.Y8G("formGroup",r.form),e.R7$(3),e.JRh(r.getLabel("currentPassword")),e.R7$(),e.Y8G("inputTabStop",r.input)("type",r.hidePassword?"password":"text"),e.R7$(4),e.JRh(r.hidePassword?"visibility":"visibility_off"),e.R7$(),e.Y8G("ngIf",r.currentPassword.hasError("required")),e.R7$(4),e.JRh(r.getLabel("newPassword")),e.R7$(),e.Y8G("inputTabStop",r.input)("type",r.hidePassword?"password":"text"),e.R7$(4),e.JRh(r.hidePassword?"visibility":"visibility_off"),e.R7$(),e.Y8G("ngIf",r.password.hasError("required")),e.R7$(),e.Y8G("ngIf",r.password.hasError("containsSpace")),e.R7$(),e.Y8G("ngIf",r.password.hasError("doesNotContainUpperCase")),e.R7$(),e.Y8G("ngIf",r.password.hasError("doesNotContainLowerCase")),e.R7$(),e.Y8G("ngIf",r.password.hasError("doesNotContainSymbol")),e.R7$(),e.Y8G("ngIf",r.password.hasError("doesNotContainDigits")),e.R7$(),e.Y8G("ngIf",r.password.hasError("minlength")),e.R7$(),e.Y8G("ngIf",r.password.hasError("maxlength")),e.R7$(3),e.JRh(r.getLabel("confirmPassword")),e.R7$(),e.Y8G("errorStateMatcher",r.confirmValidParentMatcher)("inputTabStop",r.input)("type",r.hidePassword?"password":"text"),e.R7$(4),e.JRh(r.hidePassword?"visibility":"visibility_off"),e.R7$(),e.Y8G("ngIf",null==r.confirmPassword?null:r.confirmPassword.hasError("required")),e.R7$(),e.Y8G("ngIf",!(null!=r.confirmPassword&&r.confirmPassword.hasError("required")||r.matchingPasswords)),e.R7$(),e.Y8G("ngIf",!(null!=r.confirmPassword&&r.confirmPassword.hasError("required"))&&r.matchingPasswords),e.R7$(3),e.Y8G("disabled",!r.form.valid),e.R7$(),e.Y8G("ngIf",!r.form.valid),e.R7$(2),e.JRh(e.bMT(48,33,r.getLabel("saveButton"))))},dependencies:[p.bT,a.qT,a.me,a.BC,a.cb,_.K,j.i,T.B,g.$z,g.iY,u.rl,u.nJ,u.TL,u.yw,y.An,I.fg,a.j4,a.JD,a.$R,p.Pc],styles:["[_nghost-%COMP%]{width:100%}#form-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}#content[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(6.5px);backdrop-filter:blur(6.5px);background-color:var(--color-background);border-radius:1rem;border:.0625rem solid color-mix(in srgb,var(--color-border) 50%,transparent);display:flex;flex-direction:column;gap:.9375rem;height:100%;overflow-y:hidden;padding:1rem 1.6rem 1rem 2rem;transition:background-color var(--theme-delay)}#form[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;margin:0 auto;overflow-y:hidden;width:80%}#header[_ngcontent-%COMP%]{align-items:center;display:flex;margin:0 auto;width:80%}#footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;justify-content:right;padding:.875rem 2rem}#align-right[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin:0 0 0 auto}.group-input-field[_ngcontent-%COMP%]{display:flex;gap:.5rem}.checkboxes[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:0 0 0 1rem}.align-bottom[_ngcontent-%COMP%]{margin-top:auto!important}","#passwords[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]})}}return i})();var oe=s(2079),se=s(369),x=s(2182),ne=s(97),ae=s(5312),le=s(1626);let w=(()=>{class i extends ne.s{constructor(t){super(t,ae.c.apiUrl+"/users")}updatePassword(t){return this.http.post(this.url+"/changePassword/",t)}saveUser(t){return this.http.post(this.url,t)}emailUserDetails(t){return this.http.post(this.url+"/emailUserDetails",t)}static{this.\u0275fac=function(o){return new(o||i)(e.KVO(le.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var A=s(2765),$=s(9115),me=s(2135);function ce(i,l){1&i&&e.eu8(0)}function de(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function ue(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("maxLength",t.username.errors.maxlength.requiredLength))}}function pe(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("containsIllegalCharacters"))}}function he(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function fe(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("maxLength",t.displayname.errors.maxlength.requiredLength))}}function ge(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("beginsOrEndsWithSpace"))}}function ve(i,l){1&i&&(e.j41(0,"mat-icon",12),e.EFF(1,"lock"),e.k0s())}function Fe(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function be(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("invalid"))}}function Re(i,l){1&i&&(e.j41(0,"mat-icon",12),e.EFF(1,"lock_open"),e.k0s())}function Se(i,l){1&i&&(e.j41(0,"mat-icon",12),e.EFF(1,"lock"),e.k0s())}function Ce(i,l){1&i&&(e.j41(0,"mat-icon",12),e.EFF(1,"lock"),e.k0s())}function _e(i,l){1&i&&(e.j41(0,"mat-icon",8),e.EFF(1,"lock"),e.k0s())}function we(i,l){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.onEmailUserDetais())}),e.j41(1,"span"),e.EFF(2),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(2),e.JRh(t.getLabel("emailUserDetails"))}}let ke=(()=>{class i{constructor(t,o,r,n,m,c,f,v,P,Ke,We,Qe,qe){this.activatedRoute=t,this.cryptoService=o,this.dexieService=r,this.dialogService=n,this.emojiService=m,this.formBuilder=c,this.helperService=f,this.messageDialogService=v,this.messageHintService=P,this.messageLabelService=Ke,this.router=We,this.sessionStorageService=Qe,this.userService=qe,this.feature="editUserForm",this.featureIcon="users",this.icon="",this.parentUrl="",this.mustGoBackAfterSave=!0,this.isAutoCompleteDisabled=!0}ngOnInit(){this.initForm(),this.getRecord(),this.populateFields(),this.updateReturnUrl(),this.cloneRecord(),this.setSidebarsHeight()}ngAfterViewInit(){this.focusOnField()}autocompleteFields(t,o){return o?o[t]:void 0}checkForEmptyAutoComplete(t){""==t.target.value&&(this.isAutoCompleteDisabled=!0)}enableOrDisableAutoComplete(t){this.isAutoCompleteDisabled=this.helperService.enableOrDisableAutoComplete(t)}getHint(t,o=0){return this.messageHintService.getDescription(t,o)}getLabel(t){return this.messageLabelService.getDescription(this.feature,t)}isAdmin(){return"true"==this.cryptoService.decrypt(this.sessionStorageService.getItem("isAdmin"))}onChangePassword(){this.cryptoService.decrypt(this.sessionStorageService.getItem("userId"))!=this.record.id.toString()?this.dialogService.open(this.messageDialogService.passwordCanBeChangedOnlyByAccountOwner(),"error",["ok"]):this.helperService.deepEqual(this.form.value,this.mirrorRecord)?this.router.navigate(["/users/"+this.record.id.toString()+"/changePassword"]):(this.mustGoBackAfterSave=!1,this.dialogService.open(this.messageDialogService.formIsDirty(),"error",["ok"]))}onSave(){this.saveRecord(this.flattenForm())}onEmailUserDetais(){this.helperService.deepEqual(this.form.value,this.mirrorRecord)?this.userService.emailUserDetails(this.form.value).subscribe({complete:()=>{this.helperService.doPostSaveFormTasks(this.messageDialogService.emailSent(),"ok",this.parentUrl,!0)},error:()=>{this.helperService.doPostSaveFormTasks(this.messageDialogService.emailNotSent(),"error",this.parentUrl,!0)}}):(this.mustGoBackAfterSave=!1,this.dialogService.open(this.messageDialogService.formIsDirty(),"error",["ok"]))}openOrCloseAutoComplete(t,o){this.helperService.openOrCloseAutocomplete(this.form,o,t)}editUserFromList(){this.parentUrl="/users",this.icon="arrow_back"}editUserFromTopMenu(){this.parentUrl="/home",this.icon="home"}cloneRecord(){this.mirrorRecord=this.form.value}filterAutocomplete(t,o,r){if("object"!=typeof r){const n=r.toLowerCase();return this[t].filter(m=>m[o].toLowerCase().startsWith(n))}}flattenForm(){return{id:this.form.value.id,username:this.form.value.username,displayname:this.form.value.displayname,email:this.form.value.email,isFirstFieldFocused:this.form.value.isFirstFieldFocused,isAdmin:this.form.value.isAdmin,isActive:this.form.value.isActive}}focusOnField(){this.helperService.focusOnField()}getRecord(){return new Promise(t=>{const o=this.activatedRoute.snapshot.data.userEditForm;null===o.error?(this.record=o.record.body,t(this.record)):this.dialogService.open(this.messageDialogService.filterResponse(o.error),"error",["ok"]).subscribe(()=>{this.resetForm(),this.goBack()})})}goBack(){this.router.navigate([this.parentUrl])}initForm(){this.form=this.formBuilder.group({id:"",username:["",[d.B.containsIllegalCharacters,a.k0.maxLength(32),a.k0.required]],displayname:["",[d.B.beginsOrEndsWithSpace,a.k0.maxLength(32),a.k0.required]],email:["",[a.k0.email,a.k0.maxLength(128),a.k0.required]],isFirstFieldFocused:!1,isAdmin:!1,isActive:!0,postAt:[""],postUser:[""],putAt:[""],putUser:[""]})}populateFields(){this.form.setValue({id:this.record.id,username:this.record.username,displayname:this.record.displayname,email:this.record.email,isAdmin:this.record.isAdmin,isFirstFieldFocused:this.record.isFirstFieldFocused,isActive:this.record.isActive,postAt:this.record.postAt,postUser:this.record.postUser,putAt:this.record.putAt,putUser:this.record.putUser})}resetForm(){this.form.reset()}saveRecord(t){this.userService.save(t).subscribe({complete:()=>{this.sessionStorageService.saveItem("isFirstFieldFocused",t.isFirstFieldFocused.toString()),this.mirrorRecord=this.form.value,this.helperService.doPostSaveFormTasks(this.messageDialogService.success(),"ok",this.parentUrl,this.mustGoBackAfterSave)},error:o=>{this.dialogService.open(this.messageDialogService.filterResponse(o),"error",["ok"])}})}setSidebarsHeight(){this.helperService.setSidebarsTopMargin("0")}updateReturnUrl(){"/"==this.sessionStorageService.getItem("returnUrl")?this.editUserFromTopMenu():this.editUserFromList()}get username(){return this.form.get("username")}get displayname(){return this.form.get("displayname")}get email(){return this.form.get("email")}get postAt(){return this.form.get("postAt")}get postUser(){return this.form.get("postUser")}get putAt(){return this.form.get("putAt")}get putUser(){return this.form.get("putUser")}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(h.nX),e.rXU(oe.j),e.rXU(se.T),e.rXU(b.o),e.rXU(E.E),e.rXU(a.ok),e.rXU(R.wT),e.rXU(S.$),e.rXU(U.S),e.rXU(C.F),e.rXU(h.Ix),e.rXU(x.R),e.rXU(w))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["edit-user-form"]],decls:63,vars:46,consts:[["menu","matMenu"],["contextMenu",""],["id","form-wrapper"],["id","content"],["id","header"],[3,"feature","featureIcon","icon","parentUrl"],["id","header-buttons"],["mat-icon-button","",1,"fab","fab-with-no-background",3,"matMenuTriggerFor"],[1,"material-icons-outlined"],[1,"primary"],[4,"ngTemplateOutlet"],["id","form",3,"formGroup"],[1,"lock","material-icons-outlined","small"],["dataTabIndex","1","formControlName","username","matInput","","readonly","",3,"inputTabStop"],[4,"ngIf"],["dataTabIndex","2","formControlName","displayname","matInput","",3,"inputTabStop"],["class","lock material-icons-outlined small",4,"ngIf"],["dataTabIndex","3","formControlName","email","matInput","","type","email",3,"inputTabStop","readonly"],[1,"stacked-checkboxes"],["formControlName","isFirstFieldFocused"],["formControlName","isAdmin"],["formControlName","isActive"],[1,"align-bottom"],[3,"feature","postAt","postUser","putAt","putUser"],["id","footer"],["id","align-right"],["mat-flat-button","",1,"secondary",3,"click"],["mat-flat-button","",1,"primary",3,"click","disabled"],["class","material-icons-outlined",4,"ngIf"],["xPosition","before"],["mat-menu-item","",3,"click"]],template:function(o,r){if(1&o){const n=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div",4),e.nrm(3,"home-button-and-title",5),e.j41(4,"div",6)(5,"button",7)(6,"mat-icon",8),e.EFF(7,"more_vert"),e.k0s()(),e.j41(8,"mat-menu",9,0),e.DNE(10,ce,1,0,"ng-container",10),e.k0s()()(),e.j41(11,"form",11)(12,"mat-form-field")(13,"mat-label"),e.EFF(14),e.k0s(),e.j41(15,"mat-icon",12),e.EFF(16,"lock"),e.k0s(),e.nrm(17,"input",13),e.DNE(18,de,2,1,"mat-error",14)(19,ue,2,1,"mat-error",14)(20,pe,2,1,"mat-error",14),e.k0s(),e.j41(21,"mat-form-field")(22,"mat-label"),e.EFF(23),e.k0s(),e.nrm(24,"input",15),e.DNE(25,he,2,1,"mat-error",14)(26,fe,2,1,"mat-error",14)(27,ge,2,1,"mat-error",14),e.k0s(),e.j41(28,"mat-form-field")(29,"mat-label"),e.EFF(30),e.k0s(),e.DNE(31,ve,2,0,"mat-icon",16),e.nrm(32,"input",17),e.DNE(33,Fe,2,1,"mat-error",14)(34,be,2,1,"mat-error",14),e.k0s(),e.j41(35,"div",18)(36,"mat-checkbox",19),e.DNE(37,Re,2,0,"mat-icon",16),e.j41(38,"span"),e.EFF(39),e.k0s()(),e.j41(40,"mat-checkbox",20),e.DNE(41,Se,2,0,"mat-icon",16),e.j41(42,"span"),e.EFF(43),e.k0s()(),e.j41(44,"mat-checkbox",21),e.DNE(45,Ce,2,0,"mat-icon",16),e.j41(46,"span"),e.EFF(47),e.k0s()()(),e.j41(48,"div",22),e.nrm(49,"metadata-panel",23),e.k0s()()(),e.j41(50,"div",24)(51,"div",25)(52,"button",26),e.bIt("click",function(){return e.eBV(n),e.Njj(r.onChangePassword())}),e.j41(53,"span"),e.EFF(54),e.nI1(55,"uppercase"),e.k0s()(),e.j41(56,"button",27),e.bIt("click",function(){return e.eBV(n),e.Njj(r.onSave())}),e.DNE(57,_e,2,0,"mat-icon",28),e.j41(58,"span"),e.EFF(59),e.nI1(60,"uppercase"),e.k0s()()()()(),e.DNE(61,we,3,1,"ng-template",29,1,e.C5r)}if(2&o){const n=e.sdS(9),m=e.sdS(62);e.R7$(3),e.Y8G("feature",r.feature)("featureIcon",r.featureIcon)("icon",r.icon)("parentUrl",r.parentUrl),e.R7$(2),e.Y8G("matMenuTriggerFor",n),e.R7$(5),e.Y8G("ngTemplateOutlet",m),e.R7$(),e.Y8G("formGroup",r.form),e.R7$(3),e.JRh(r.getLabel("username")),e.R7$(3),e.Y8G("inputTabStop",r.input),e.R7$(),e.Y8G("ngIf",r.username.hasError("required")),e.R7$(),e.Y8G("ngIf",r.username.hasError("maxlength")),e.R7$(),e.Y8G("ngIf",!r.username.hasError("required")&&r.username.hasError("containsIllegalCharacters")),e.R7$(3),e.JRh(r.getLabel("displayname")),e.R7$(),e.Y8G("inputTabStop",r.input),e.R7$(),e.Y8G("ngIf",r.displayname.hasError("required")),e.R7$(),e.Y8G("ngIf",r.displayname.hasError("maxlength")),e.R7$(),e.Y8G("ngIf",!r.displayname.hasError("required")&&r.displayname.hasError("beginsOrEndsWithSpace")),e.R7$(3),e.JRh(r.getLabel("email")),e.R7$(),e.Y8G("ngIf",!r.isAdmin()),e.R7$(),e.Y8G("inputTabStop",r.input)("readonly",!r.isAdmin()),e.R7$(),e.Y8G("ngIf",r.email.hasError("required")),e.R7$(),e.Y8G("ngIf",r.email.hasError("email")),e.R7$(3),e.Y8G("ngIf",!r.isAdmin()),e.R7$(2),e.JRh(r.getLabel("isFirstFieldFocused")),e.R7$(),e.HbH(r.isAdmin()?null:"disabled"),e.R7$(),e.Y8G("ngIf",!r.isAdmin()),e.R7$(2),e.JRh(r.getLabel("isAdmin")),e.R7$(),e.HbH(r.isAdmin()?null:"disabled"),e.R7$(),e.Y8G("ngIf",!r.isAdmin()),e.R7$(2),e.JRh(r.getLabel("isActive")),e.R7$(2),e.Y8G("feature",r.feature)("postAt",r.form.value.postAt)("postUser",r.form.value.postUser)("putAt",r.form.value.putAt)("putUser",r.form.value.putUser),e.R7$(5),e.JRh(e.bMT(55,42,r.getLabel("changePasswordButton"))),e.R7$(2),e.Y8G("disabled",!r.form.valid),e.R7$(),e.Y8G("ngIf",!r.form.valid),e.R7$(2),e.JRh(e.bMT(60,44,r.getLabel("saveButton")))}},dependencies:[p.bT,p.T3,a.qT,a.me,a.BC,a.cb,_.K,j.i,T.B,g.$z,g.iY,A.So,u.rl,u.nJ,u.TL,y.An,I.fg,$.kk,$.fb,$.Cp,me.j,a.j4,a.JD,p.Pc],styles:["[_nghost-%COMP%]{width:100%}#form-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}#content[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(6.5px);backdrop-filter:blur(6.5px);background-color:var(--color-background);border-radius:1rem;border:.0625rem solid color-mix(in srgb,var(--color-border) 50%,transparent);display:flex;flex-direction:column;gap:.9375rem;height:100%;overflow-y:hidden;padding:1rem 1.6rem 1rem 2rem;transition:background-color var(--theme-delay)}#form[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;margin:0 auto;overflow-y:hidden;width:80%}#header[_ngcontent-%COMP%]{align-items:center;display:flex;margin:0 auto;width:80%}#footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;justify-content:right;padding:.875rem 2rem}#align-right[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin:0 0 0 auto}.group-input-field[_ngcontent-%COMP%]{display:flex;gap:.5rem}.checkboxes[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:0 0 0 1rem}.align-bottom[_ngcontent-%COMP%]{margin-top:auto!important}","#header[_ngcontent-%COMP%]{justify-content:space-between}#header-buttons[_ngcontent-%COMP%]{align-items:center;display:flex;gap:.5rem;justify-content:flex-end;margin:0 1rem 0 0}"]})}}return i})();var Ee=s(2480);function Ue(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function je(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("spacesNotAllowed"))}}function Te(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function ye(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("maxLength",t.displayname.errors.maxlength.requiredLength))}}function Ie(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("required"))}}function $e(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("maxLength",t.email.errors.maxlength.requiredLength))}}function Pe(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getHint("invalid"))}}function Ge(i,l){1&i&&(e.j41(0,"mat-icon",18),e.EFF(1,"lock"),e.k0s())}let xe=(()=>{class i{constructor(t,o,r,n,m,c,f){this.dialogService=t,this.formBuilder=o,this.helperService=r,this.messageDialogService=n,this.messageHintService=m,this.messageLabelService=c,this.userService=f,this.feature="newUserForm",this.featureIcon="users",this.icon="arrow_back",this.parentUrl="/users",this.confirmValidParentMatcher=new d.V,this.hidePassword=!0}ngOnInit(){this.initForm()}ngAfterViewInit(){this.clearInvisibleFieldsAndRestoreVisibility(),this.focusOnField()}getHint(t,o=0){return this.messageHintService.getDescription(t,o)}getLabel(t){return this.messageLabelService.getDescription(this.feature,t)}onSave(){this.saveRecord(this.flattenForm())}clearInvisibleFieldsAndRestoreVisibility(){this.helperService.clearInvisibleFieldsAndRestoreVisibility(this.form,["email"])}filterAutocomplete(t,o,r){if("object"!=typeof r){const n=r.toLowerCase();return this[t].filter(m=>m[o].toLowerCase().startsWith(n))}}flattenForm(){return{username:this.form.value.username,displayname:this.form.value.displayname,email:this.form.value.email,isFirstFieldFocused:this.form.value.isFirstFieldFocused,isAdmin:this.form.value.isAdmin,isActive:this.form.value.isActive}}focusOnField(){this.helperService.focusOnField()}initForm(){this.form=this.formBuilder.group({username:["",[a.k0.required,d.B.containsSpace,a.k0.maxLength(256)]],displayname:["",[a.k0.required,d.B.beginsOrEndsWithSpace,a.k0.maxLength(32)]],email:["x@x.com",[a.k0.email,a.k0.maxLength(128),a.k0.required]],isFirstFieldFocused:!1,isAdmin:!1,isActive:!0})}saveRecord(t){this.userService.saveUser(t).subscribe({complete:()=>{this.helperService.doPostSaveFormTasks(this.messageDialogService.success(),"ok",this.parentUrl,!0)},error:o=>{this.dialogService.open(this.messageDialogService.filterResponse(o),"error",["ok"])}})}get username(){return this.form.get("username")}get displayname(){return this.form.get("displayname")}get email(){return this.form.get("email")}get passwords(){return this.form.get("passwords")}get password(){return this.form.get("passwords.password")}get confirmPassword(){return this.form.get("passwords.confirmPassword")}get matchingPasswords(){return this.form.get("passwords.password").value==this.form.get("passwords.confirmPassword").value}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(b.o),e.rXU(a.ok),e.rXU(R.wT),e.rXU(S.$),e.rXU(U.S),e.rXU(C.F),e.rXU(w))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["new-user-form"]],decls:42,vars:26,consts:[["id","form-wrapper"],["id","content"],["id","header"],[3,"feature","featureIcon","icon","parentUrl"],["id","form",3,"formGroup"],["dataTabIndex","1","formControlName","username","matInput","",1,"invisible",3,"inputTabStop"],[4,"ngIf"],["dataTabIndex","2","formControlName","displayname","matInput","",3,"inputTabStop"],["dataTabIndex","3","formControlName","email","matInput","",1,"invisible",3,"inputTabStop"],[1,"checkboxes"],["formControlName","isFirstFieldFocused"],[1,"align-bottom","checkboxes"],["formControlName","isAdmin"],["formControlName","isActive"],["id","footer"],["id","align-right"],["mat-flat-button","",1,"primary",3,"click","disabled"],["class","material-icons-outlined",4,"ngIf"],[1,"material-icons-outlined"]],template:function(o,r){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"home-button-and-title",3),e.k0s(),e.j41(4,"form",4)(5,"mat-form-field")(6,"mat-label"),e.EFF(7),e.k0s(),e.nrm(8,"input",5),e.DNE(9,Ue,2,1,"mat-error",6)(10,je,2,1,"mat-error",6),e.k0s(),e.j41(11,"mat-form-field")(12,"mat-label"),e.EFF(13),e.k0s(),e.nrm(14,"input",7),e.DNE(15,Te,2,1,"mat-error",6)(16,ye,2,1,"mat-error",6),e.k0s(),e.j41(17,"mat-form-field")(18,"mat-label"),e.EFF(19),e.k0s(),e.nrm(20,"input",8),e.DNE(21,Ie,2,1,"mat-error",6)(22,$e,2,1,"mat-error",6)(23,Pe,2,1,"mat-error",6),e.k0s(),e.j41(24,"div",9)(25,"mat-checkbox",10)(26,"span"),e.EFF(27),e.k0s()()(),e.j41(28,"div",11)(29,"mat-checkbox",12)(30,"span"),e.EFF(31),e.k0s()(),e.j41(32,"mat-checkbox",13)(33,"span"),e.EFF(34),e.k0s()()()()(),e.j41(35,"div",14)(36,"div",15)(37,"button",16),e.bIt("click",function(){return r.onSave()}),e.DNE(38,Ge,2,0,"mat-icon",17),e.j41(39,"span"),e.EFF(40),e.nI1(41,"uppercase"),e.k0s()()()()()),2&o&&(e.R7$(3),e.Y8G("feature",r.feature)("featureIcon",r.featureIcon)("icon",r.icon)("parentUrl",r.parentUrl),e.R7$(),e.Y8G("formGroup",r.form),e.R7$(3),e.JRh(r.getLabel("username")),e.R7$(),e.Y8G("inputTabStop",r.input),e.R7$(),e.Y8G("ngIf",r.username.hasError("required")),e.R7$(),e.Y8G("ngIf",r.username.hasError("containsSpace")),e.R7$(3),e.JRh(r.getLabel("displayname")),e.R7$(),e.Y8G("inputTabStop",r.input),e.R7$(),e.Y8G("ngIf",r.displayname.hasError("required")),e.R7$(),e.Y8G("ngIf",r.displayname.hasError("maxlength")),e.R7$(3),e.JRh(r.getLabel("email")),e.R7$(),e.Y8G("inputTabStop",r.input),e.R7$(),e.Y8G("ngIf",r.email.hasError("required")),e.R7$(),e.Y8G("ngIf",r.email.hasError("maxlength")),e.R7$(),e.Y8G("ngIf",!r.email.hasError("required")&&!r.email.hasError("maxlength")&&r.email.hasError("email")),e.R7$(4),e.JRh(r.getLabel("isFirstFieldFocused")),e.R7$(4),e.JRh(r.getLabel("isAdmin")),e.R7$(3),e.JRh(r.getLabel("isActive")),e.R7$(3),e.Y8G("disabled",!r.form.valid),e.R7$(),e.Y8G("ngIf",!r.form.valid),e.R7$(2),e.JRh(e.bMT(41,24,r.getLabel("saveButton"))))},dependencies:[p.bT,a.qT,a.me,a.BC,a.cb,_.K,j.i,T.B,g.$z,A.So,u.rl,u.nJ,u.TL,y.An,I.fg,a.j4,a.JD,p.Pc],styles:["[_nghost-%COMP%]{width:100%}#form-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}#content[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(6.5px);backdrop-filter:blur(6.5px);background-color:var(--color-background);border-radius:1rem;border:.0625rem solid color-mix(in srgb,var(--color-border) 50%,transparent);display:flex;flex-direction:column;gap:.9375rem;height:100%;overflow-y:hidden;padding:1rem 1.6rem 1rem 2rem;transition:background-color var(--theme-delay)}#form[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;margin:0 auto;overflow-y:hidden;width:80%}#header[_ngcontent-%COMP%]{align-items:center;display:flex;margin:0 auto;width:80%}#footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;justify-content:right;padding:.875rem 2rem}#align-right[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin:0 0 0 auto}.group-input-field[_ngcontent-%COMP%]{display:flex;gap:.5rem}.checkboxes[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:0 0 0 1rem}.align-bottom[_ngcontent-%COMP%]{margin-top:auto!important}"]})}}return i})();var Ae=s(4048),L=s(6354),N=s(9437),M=s(7673),X=s(668);let Le=(()=>{class i{constructor(t){this.userService=t}resolve(t){return this.userService.getSingle(t.params.id).pipe((0,L.T)(o=>new X.T(o)),(0,N.W)(o=>(0,M.of)(new X.T(null,o))))}static{this.\u0275fac=function(o){return new(o||i)(e.KVO(w))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Ne=s(5779),Me=s(2711),k=s(8520),Xe=s(4435);const De=["table"];function Oe(i,l){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"th",15),e.EFF(2),e.k0s(),e.j41(3,"th",16),e.EFF(4),e.k0s(),e.j41(5,"th",17),e.EFF(6),e.k0s(),e.j41(7,"th",18),e.EFF(8),e.k0s(),e.j41(9,"th",19),e.EFF(10),e.k0s()(),e.j41(11,"tr")(12,"th",20),e.nrm(13,"p-columnFilter",21),e.k0s(),e.j41(14,"th",20),e.nrm(15,"p-columnFilter",22),e.k0s(),e.j41(16,"th",23)(17,"input",24),e.bIt("input",function(r){e.eBV(t),e.XpG();const n=e.sdS(8);return e.Njj(n.filter(r.target.value,"username","contains"))}),e.k0s()(),e.j41(18,"th",23)(19,"input",24),e.bIt("input",function(r){e.eBV(t),e.XpG();const n=e.sdS(8);return e.Njj(n.filter(r.target.value,"displayname","contains"))}),e.k0s()(),e.j41(20,"th",23)(21,"input",24),e.bIt("input",function(r){e.eBV(t),e.XpG();const n=e.sdS(8);return e.Njj(n.filter(r.target.value,"email","contains"))}),e.k0s()()()}if(2&i){const t=e.XpG(),o=e.sdS(8);e.R7$(2),e.JRh(t.getLabel("headerIsActive")),e.R7$(2),e.JRh(t.getLabel("headerIsAdmin")),e.R7$(2),e.JRh(t.getLabel("headerUsername")),e.R7$(2),e.JRh(t.getLabel("headerDisplayname")),e.R7$(2),e.JRh(t.getLabel("headerEmail")),e.R7$(7),e.Y8G("value",null==o.filters.username?null:o.filters.username.value),e.R7$(2),e.Y8G("value",null==o.filters.displayname?null:o.filters.displayname.value),e.R7$(2),e.Y8G("value",null==o.filters.email?null:o.filters.email.value)}}function Je(i,l){if(1&i){const t=e.RV6();e.j41(0,"tr",25),e.bIt("click",function(){const r=e.eBV(t).$implicit,n=e.XpG();return e.Njj(n.onHighlightRow(r.id))})("contextmenu",function(){const r=e.eBV(t).$implicit,n=e.XpG();return e.Njj(n.onHighlightRow(r.id))})("dblclick",function(){const r=e.eBV(t).$implicit,n=e.XpG();return e.Njj(n.onEditRecord(r.id))}),e.j41(1,"td",20)(2,"span",26),e.EFF(3),e.k0s()(),e.j41(4,"td",20)(5,"span",26),e.EFF(6),e.k0s()(),e.j41(7,"td",23)(8,"span"),e.EFF(9),e.k0s()(),e.j41(10,"td",23)(11,"span"),e.EFF(12),e.k0s()(),e.j41(13,"td",23)(14,"span"),e.EFF(15),e.k0s()()()}if(2&i){const t=l.$implicit,o=e.XpG();e.Y8G("pContextMenuRow",t),e.BMQ("id",t.id),e.R7$(3),e.JRh(o.getEmoji(t.isActive)),e.R7$(3),e.JRh(o.getEmoji(t.isAdmin)),e.R7$(3),e.JRh(t.username),e.R7$(3),e.JRh(t.displayname),e.R7$(3),e.JRh(t.email)}}let Ye=(()=>{class i{constructor(t,o,r,n,m,c,f,v){this.activatedRoute=t,this.dialogService=o,this.emojiService=r,this.helperService=n,this.messageDialogService=m,this.messageLabelService=c,this.router=f,this.sessionStorageService=v,this.url="users",this.feature="userList",this.featureIcon="users",this.icon="home",this.parentUrl="/home"}ngOnInit(){this.loadRecords().then(()=>{this.filterTableFromStoredFilters(),this.setTabTitle(),this.setSidebarsHeight(),this.initContextMenu()})}ngAfterViewInit(){setTimeout(()=>{this.getVirtualElement(),this.scrollToSavedPosition(),this.hightlightSavedRow(),this.enableDisableFilters(),this.storeReturnUrl()})}getEmoji(t){return this.emojiService.getEmoji("string"==typeof t?t:t?"green-box":"red-box")}getLabel(t){return this.messageLabelService.getDescription(this.feature,t)}onEditRecord(t){this.storeScrollTop(),this.storeSelectedId(t),this.navigateToRecord(t)}onFilterRecords(t){this.sessionStorageService.saveItem(this.feature+"-filters",JSON.stringify(this.table.filters)),this.recordsFilteredCount=t.filteredValue.length}onHighlightRow(t){this.helperService.highlightRow(t)}onNewRecord(){this.router.navigate([this.url+"/new"])}resetTableFilters(){this.helperService.clearTableTextFilters(this.table,["userName","displayname","email"])}enableDisableFilters(){0==this.records.length?this.helperService.disableTableFilters():this.helperService.enableTableFilters()}filterColumn(t,o,r){null!=t&&(null!=t.value||null!=t.value)&&this.table.filter(t.value,o,r)}filterTableFromStoredFilters(){const t=this.sessionStorageService.getFilters(this.feature+"-filters");null!=t&&setTimeout(()=>{this.filterColumn(t.isActive,"isActive","contains"),this.filterColumn(t.isAdmin,"isAdmin","equals"),this.filterColumn(t.userName,"userName","contains"),this.filterColumn(t.displayname,"displayname","contains"),this.filterColumn(t.email,"email","contains")},500)}getVirtualElement(){this.virtualElement=document.getElementsByClassName("p-scroller-inline")[0]}goBack(){this.router.navigate([this.parentUrl])}hightlightSavedRow(){this.helperService.highlightSavedRow(this.feature)}initContextMenu(){this.menuItems=[{label:this.getLabel("contextMenuEdit"),command:()=>this.onEditRecord(this.selectedRecord.id)}]}loadRecords(){return new Promise(t=>{const o=this.activatedRoute.snapshot.data[this.feature];null==o.error?(this.records=o.list,this.recordsFilteredCount=this.records.length,t(this.records)):this.dialogService.open(this.messageDialogService.filterResponse(o.error),"error",["ok"]).subscribe(()=>{this.goBack()})})}navigateToRecord(t){this.router.navigate([this.url,t])}scrollToSavedPosition(){this.helperService.scrollToSavedPosition(this.virtualElement,this.feature)}setSidebarsHeight(){this.helperService.setSidebarsTopMargin("0")}setTabTitle(){this.helperService.setTabTitle(this.feature)}storeSelectedId(t){this.sessionStorageService.saveItem(this.feature+"-id",t)}storeScrollTop(){this.sessionStorageService.saveItem(this.feature+"-scrollTop",this.virtualElement.scrollTop)}storeReturnUrl(){this.sessionStorageService.saveItem("returnUrl","/users")}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(h.nX),e.rXU(b.o),e.rXU(E.E),e.rXU(R.wT),e.rXU(S.$),e.rXU(C.F),e.rXU(h.Ix),e.rXU(x.R))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["user-list"]],viewQuery:function(o,r){if(1&o&&e.GBs(De,5),2&o){let n;e.mGM(n=e.lsd())&&(r.table=n.first)}},decls:17,vars:16,consts:[["contextMenu",""],["table",""],["id","list-wrapper"],["id","content"],["id","header"],[3,"featureIcon","feature","icon","parentUrl"],["id","table-wrapper"],[3,"model"],["dataKey","id","scrollHeight","flex","selectionMode","single","sortMode","multiple",3,"onFilter","contextMenuSelectionChange","contextMenuSelection","contextMenu","scrollable","value","virtualScrollItemSize","virtualScroll"],["pTemplate","header"],["pTemplate","body"],["id","footer"],[3,"resetTableFilters","filteredRecordCount","recordCount"],["id","align-right"],["mat-flat-button","",1,"primary",3,"click"],["pSortableColumn","isActive",1,"width-5"],["pSortableColumn","isAdmin",1,"width-5"],["pSortableColumn","username",1,"width-16"],["pSortableColumn","displayname",1,"width-16"],["pSortableColumn","email",1,"width-16"],[1,"width-5"],["field","isActive","type","boolean"],["field","isAdmin","type","boolean"],[1,"width-16"],[1,"p-inputtext",3,"input","value"],[2,"height","32px",3,"click","contextmenu","dblclick","pContextMenuRow"],[1,"center","no-left-padding",2,"font-size","0.5rem","padding-top","0 !important"]],template:function(o,r){if(1&o){const n=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div",4),e.nrm(3,"home-button-and-title",5),e.k0s(),e.j41(4,"div",6),e.nrm(5,"p-contextMenu",7,0),e.j41(7,"p-table",8,1),e.bIt("onFilter",function(c){return e.eBV(n),e.Njj(r.onFilterRecords(c))}),e.mxI("contextMenuSelectionChange",function(c){return e.eBV(n),e.DH7(r.selectedRecord,c)||(r.selectedRecord=c),e.Njj(c)}),e.DNE(9,Oe,22,8,"ng-template",9)(10,Je,16,7,"ng-template",10),e.k0s()()(),e.j41(11,"div",11)(12,"table-total-filtered-records",12),e.bIt("resetTableFilters",function(){return e.eBV(n),e.Njj(r.resetTableFilters())}),e.k0s(),e.j41(13,"div",13)(14,"button",14),e.bIt("click",function(){return e.eBV(n),e.Njj(r.onNewRecord())}),e.EFF(15),e.nI1(16,"uppercase"),e.k0s()()()()}if(2&o){const n=e.sdS(6);e.R7$(3),e.Y8G("featureIcon",r.featureIcon)("feature",r.feature)("icon",r.icon)("parentUrl",r.parentUrl),e.R7$(2),e.Y8G("model",r.menuItems),e.R7$(2),e.R50("contextMenuSelection",r.selectedRecord),e.Y8G("contextMenu",n)("scrollable",!0)("value",r.records)("virtualScrollItemSize",32)("virtualScroll",!0),e.R7$(5),e.Y8G("filteredRecordCount",r.recordsFilteredCount)("recordCount",r.records.length),e.R7$(3),e.JRh(e.bMT(16,14,r.getLabel("newRecord")))}},dependencies:[_.K,g.$z,Ne.Ei,Me.tz,k.XI,k.Tg,k.H$,k.rl,Xe.j,p.Pc],styles:["#list-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}#content[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(6.5px);backdrop-filter:blur(6.5px);background-color:var(--color-background);border-radius:1rem;border:.0625rem solid color-mix(in srgb,var(--color-border) 50%,transparent);display:flex;flex-direction:column;gap:.9375rem;height:100%;margin:0 auto;overflow-y:hidden;padding:1rem 1.6rem 1rem 2rem;transition:background-color var(--theme-delay);width:100%}#header[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;justify-content:space-between;margin:0 2rem 0 0}#table-wrapper[_ngcontent-%COMP%]{height:100%;width:100%}#footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;justify-content:right;padding:.875rem 2rem}#align-right[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-left:auto}"]})}}return i})();var D=s(1338);const He=[{path:"",component:Ye,canActivate:[F.r],resolve:{userList:(()=>{class i{constructor(t){this.userService=t}resolve(){return this.userService.getAll().pipe((0,L.T)(t=>new D.X(t)),(0,N.W)(t=>(0,M.of)(new D.X(null,t))))}static{this.\u0275fac=function(o){return new(o||i)(e.KVO(w))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})()}},{path:"new",component:xe,canActivate:[F.r]},{path:":id",component:ke,canActivate:[F.r],resolve:{userEditForm:Le}},{path:":id/changePassword",component:ie,canActivate:[F.r]},{path:"forgotPassword",component:Ee.Q},{path:"resetPassword",component:Ae.U}];let Ve=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[h.iI.forChild(He),h.iI]})}}return i})(),ze=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[O.G,Ve]})}}return i})()}}]);